{"ast":null,"code":"import _objectSpread from\"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/screens/TasksScreen.js\nimport React,{useState,useEffect,useCallback}from'react';import{getActiveTasks,assignTaskToUser,completeUserTask}from'../services/taskService';import{getUserByTelegramId}from'../services/userService';import'./TasksScreen.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TasksScreen=_ref=>{let{onComplete,userId}=_ref;const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(true);const[user,setUser]=useState(null);const[error,setError]=useState(null);const[refreshing,setRefreshing]=useState(false);// Загрузка задач из базы данных - переделана в useCallback для повторного использования\nconst loadTasks=useCallback(async function(){let showRefresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(showRefresh){setRefreshing(true);}else{setLoading(true);}setError(null);// Получаем данные пользователя\nif(userId){const userData=await getUserByTelegramId(userId);setUser(userData);}// Получаем активные задачи\nconst activeTasks=await getActiveTasks();// Преобразуем задачи для отображения\nconst formattedTasks=activeTasks.map(task=>({id:task.id,title:task.title,description:task.description,reward:task.reward,progress:0,target:1,status:'active',expReward:task.expReward||Math.floor(task.reward/5)// Добавляем expReward если его нет\n}));setTasks(formattedTasks);}catch(error){console.error('Ошибка при загрузке задач:',error);setError('Не удалось загрузить задания. Пожалуйста, попробуйте позже.');}finally{setLoading(false);if(showRefresh){setRefreshing(false);}}},[userId]);// Первичная загрузка задач\nuseEffect(()=>{loadTasks();},[loadTasks]);// Функция для назначения задачи пользователю\nconst assignTask=async taskId=>{if(!user){setError('Для выполнения задания необходимо авторизоваться');return;}try{const result=await assignTaskToUser(user.id,taskId);if(!result.success){setError(result.message||'Не удалось начать задание');return;}// Обновляем состояние задачи\nsetTasks(prev=>prev.map(task=>{if(task.id===taskId){return _objectSpread(_objectSpread({},task),{},{progress:1,status:'assigned'});}return task;}));}catch(error){console.error('Ошибка при назначении задачи:',error);setError('Произошла ошибка при назначении задачи');}};// Функция для завершения задачи и получения награды\nconst claimReward=async taskId=>{if(!user){setError('Для получения награды необходимо авторизоваться');return;}try{const task=tasks.find(t=>t.id===taskId);if(!task||task.progress<task.target){setError('Задание еще не завершено');return;}// Завершаем задачу в базе данных\nconst result=await completeUserTask(user.id,taskId);if(!result.success){setError(result.message||'Не удалось завершить задание');return;}// Вызываем колбэк для обновления баланса в родительском компоненте\nif(onComplete){onComplete(task.reward,task.expReward||task.reward/5);}// Показываем уведомление об успешном завершении\nsetError({type:'success',message:\"\\u0412\\u044B \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u043B\\u0438 \".concat(task.reward,\" VL \\u0438 \").concat(task.expReward||Math.floor(task.reward/5),\" \\u043E\\u043F\\u044B\\u0442\\u0430!\")});// Удаляем задачу из списка\nsetTasks(prev=>prev.filter(t=>t.id!==taskId));}catch(error){console.error('Ошибка при завершении задачи:',error);setError('Произошла ошибка при получении награды');}};// Функция для обновления списка заданий\nconst refreshTasks=()=>{loadTasks(true);};// Отображение состояния загрузки\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-text\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u0439...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"screen tasks-screen\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"screen-title\",children:\"\\u0417\\u0430\\u0434\\u0430\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tasks-controls\",children:/*#__PURE__*/_jsx(\"button\",{className:\"refresh-button \".concat(refreshing?'refreshing':''),onClick:refreshTasks,disabled:refreshing,children:refreshing?'Обновление...':'Обновить задания'})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"notification \".concat(error.type==='success'?'success':'error'),children:typeof error==='string'?error:error.message}),/*#__PURE__*/_jsx(\"div\",{className:\"tasks-list\",children:tasks.length>0?tasks.map(task=>{const progressPercent=task.progress/task.target*100;return/*#__PURE__*/_jsxs(\"div\",{className:\"task-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:task.title}),task.description&&/*#__PURE__*/_jsx(\"p\",{className:\"task-description\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progressPercent,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-text\",children:[task.progress,\" / \",task.target]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-reward\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reward-value\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"vl-reward\",children:[\"+\",task.reward,\" VL\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"exp-reward\",children:[\"+\",task.expReward||Math.floor(task.reward/5),\" XP\"]})]}),task.status==='active'?/*#__PURE__*/_jsx(\"button\",{className:\"assign-button\",onClick:()=>assignTask(task.id),children:\"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C\"}):/*#__PURE__*/_jsx(\"button\",{className:\"claim-button \".concat(task.progress<task.target?'disabled':''),onClick:()=>claimReward(task.id),disabled:task.progress<task.target,children:\"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C\"})]})]},task.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-tasks\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0445 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"button\",{className:\"refresh-button\",onClick:refreshTasks,children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tasks-info\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u044F\\u0439\\u0442\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u044F \\u0434\\u043B\\u044F \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F VL \\u0438 \\u043E\\u043F\\u044B\\u0442\\u0430. \\u0427\\u0435\\u043C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u0439 \\u0432\\u044B \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435, \\u0442\\u0435\\u043C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 \\u043D\\u0430\\u0433\\u0440\\u0430\\u0434 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0435!\"})})]});};export default TasksScreen;","map":{"version":3,"names":["React","useState","useEffect","useCallback","getActiveTasks","assignTaskToUser","completeUserTask","getUserByTelegramId","jsx","_jsx","jsxs","_jsxs","TasksScreen","_ref","onComplete","userId","tasks","setTasks","loading","setLoading","user","setUser","error","setError","refreshing","setRefreshing","loadTasks","showRefresh","arguments","length","undefined","userData","activeTasks","formattedTasks","map","task","id","title","description","reward","progress","target","status","expReward","Math","floor","console","assignTask","taskId","result","success","message","prev","_objectSpread","claimReward","find","t","type","concat","filter","refreshTasks","className","children","onClick","disabled","progressPercent","style","width"],"sources":["/var/www/www-root/data/www/knigavl.ru/src/screens/TasksScreen.js"],"sourcesContent":["// src/screens/TasksScreen.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { getActiveTasks, assignTaskToUser, completeUserTask } from '../services/taskService';\nimport { getUserByTelegramId } from '../services/userService';\nimport './TasksScreen.css';\n\nconst TasksScreen = ({ onComplete, userId }) => {\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [refreshing, setRefreshing] = useState(false);\n\n  // Загрузка задач из базы данных - переделана в useCallback для повторного использования\n  const loadTasks = useCallback(async (showRefresh = false) => {\n    try {\n      if (showRefresh) {\n        setRefreshing(true);\n      } else {\n        setLoading(true);\n      }\n      setError(null);\n      \n      // Получаем данные пользователя\n      if (userId) {\n        const userData = await getUserByTelegramId(userId);\n        setUser(userData);\n      }\n      \n      // Получаем активные задачи\n      const activeTasks = await getActiveTasks();\n      \n      // Преобразуем задачи для отображения\n      const formattedTasks = activeTasks.map(task => ({\n        id: task.id,\n        title: task.title,\n        description: task.description,\n        reward: task.reward,\n        progress: 0,\n        target: 1,\n        status: 'active',\n        expReward: task.expReward || Math.floor(task.reward / 5) // Добавляем expReward если его нет\n      }));\n      \n      setTasks(formattedTasks);\n    } catch (error) {\n      console.error('Ошибка при загрузке задач:', error);\n      setError('Не удалось загрузить задания. Пожалуйста, попробуйте позже.');\n    } finally {\n      setLoading(false);\n      if (showRefresh) {\n        setRefreshing(false);\n      }\n    }\n  }, [userId]);\n\n  // Первичная загрузка задач\n  useEffect(() => {\n    loadTasks();\n  }, [loadTasks]);\n\n  // Функция для назначения задачи пользователю\n  const assignTask = async (taskId) => {\n    if (!user) {\n      setError('Для выполнения задания необходимо авторизоваться');\n      return;\n    }\n    \n    try {\n      const result = await assignTaskToUser(user.id, taskId);\n      \n      if (!result.success) {\n        setError(result.message || 'Не удалось начать задание');\n        return;\n      }\n      \n      // Обновляем состояние задачи\n      setTasks(prev => prev.map(task => {\n        if (task.id === taskId) {\n          return { ...task, progress: 1, status: 'assigned' };\n        }\n        return task;\n      }));\n    } catch (error) {\n      console.error('Ошибка при назначении задачи:', error);\n      setError('Произошла ошибка при назначении задачи');\n    }\n  };\n\n  // Функция для завершения задачи и получения награды\n  const claimReward = async (taskId) => {\n    if (!user) {\n      setError('Для получения награды необходимо авторизоваться');\n      return;\n    }\n    \n    try {\n      const task = tasks.find(t => t.id === taskId);\n      \n      if (!task || task.progress < task.target) {\n        setError('Задание еще не завершено');\n        return;\n      }\n      \n      // Завершаем задачу в базе данных\n      const result = await completeUserTask(user.id, taskId);\n      \n      if (!result.success) {\n        setError(result.message || 'Не удалось завершить задание');\n        return;\n      }\n      \n      // Вызываем колбэк для обновления баланса в родительском компоненте\n      if (onComplete) {\n        onComplete(task.reward, task.expReward || task.reward / 5);\n      }\n      \n      // Показываем уведомление об успешном завершении\n      setError({ type: 'success', message: `Вы получили ${task.reward} VL и ${task.expReward || Math.floor(task.reward / 5)} опыта!` });\n      \n      // Удаляем задачу из списка\n      setTasks(prev => prev.filter(t => t.id !== taskId));\n    } catch (error) {\n      console.error('Ошибка при завершении задачи:', error);\n      setError('Произошла ошибка при получении награды');\n    }\n  };\n\n  // Функция для обновления списка заданий\n  const refreshTasks = () => {\n    loadTasks(true);\n  };\n\n  // Отображение состояния загрузки\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p className=\"loading-text\">Загрузка заданий...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"screen tasks-screen\">\n      <h2 className=\"screen-title\">Задания</h2>\n      \n      {/* Добавляем кнопку обновления списка заданий */}\n      <div className=\"tasks-controls\">\n        <button \n          className={`refresh-button ${refreshing ? 'refreshing' : ''}`}\n          onClick={refreshTasks}\n          disabled={refreshing}\n        >\n          {refreshing ? 'Обновление...' : 'Обновить задания'}\n        </button>\n      </div>\n      \n      {/* Отображение ошибок или уведомлений */}\n      {error && (\n        <div className={`notification ${error.type === 'success' ? 'success' : 'error'}`}>\n          {typeof error === 'string' ? error : error.message}\n        </div>\n      )}\n      \n      <div className=\"tasks-list\">\n        {tasks.length > 0 ? (\n          tasks.map(task => {\n            const progressPercent = (task.progress / task.target) * 100;\n            \n            return (\n              <div key={task.id} className=\"task-item\">\n                <div className=\"task-info\">\n                  <h3>{task.title}</h3>\n                  {task.description && <p className=\"task-description\">{task.description}</p>}\n                  <div className=\"progress-container\">\n                    <div className=\"progress-bar\">\n                      <div \n                        className=\"progress-fill\" \n                        style={{ width: `${progressPercent}%` }}\n                      ></div>\n                    </div>\n                    <div className=\"progress-text\">\n                      {task.progress} / {task.target}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"task-reward\">\n                  <div className=\"reward-value\">\n                    <div className=\"vl-reward\">+{task.reward} VL</div>\n                    <div className=\"exp-reward\">+{task.expReward || Math.floor(task.reward / 5)} XP</div>\n                  </div>\n                  {task.status === 'active' ? (\n                    <button \n                      className=\"assign-button\"\n                      onClick={() => assignTask(task.id)}\n                    >\n                      Начать\n                    </button>\n                  ) : (\n                    <button \n                      className={`claim-button ${task.progress < task.target ? 'disabled' : ''}`}\n                      onClick={() => claimReward(task.id)}\n                      disabled={task.progress < task.target}\n                    >\n                      Получить\n                    </button>\n                  )}\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <div className=\"empty-tasks\">\n            <p>Нет доступных заданий</p>\n            <button className=\"refresh-button\" onClick={refreshTasks}>\n              Обновить\n            </button>\n          </div>\n        )}\n      </div>\n      \n      {/* Дополнительная информация о заданиях */}\n      <div className=\"tasks-info\">\n        <p>Выполняйте задания для получения VL и опыта. Чем больше заданий вы выполните, тем больше наград получите!</p>\n      </div>\n    </div>\n  );\n};\n\nexport default TasksScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}