{"ast":null,"code":"import _objectWithoutProperties from \"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"size\"];\nimport { jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useMemo, useLayoutEffect } from \"react\";\nimport { GridEffect } from \"postprocessing\";\nimport { useThree } from \"@react-three/fiber\";\nconst Grid = forwardRef(function Grid2(_ref, ref) {\n  let {\n      size\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const invalidate = useThree(state => state.invalidate);\n  const effect = useMemo(() => new GridEffect(props), [props]);\n  useLayoutEffect(() => {\n    if (size) effect.setSize(size.width, size.height);\n    invalidate();\n  }, [effect, size, invalidate]);\n  return /* @__PURE__ */jsx(\"primitive\", {\n    ref,\n    object: effect,\n    dispose: null\n  });\n});\nexport { Grid };","map":{"version":3,"names":["Grid","forwardRef","Grid2","_ref","ref","size","props","_objectWithoutProperties","_excluded","invalidate","useThree","state","effect","useMemo","GridEffect","useLayoutEffect","setSize","width","height","jsx","object","dispose"],"sources":["/var/www/www-root/data/www/knigavl.ru/node_modules/@react-three/postprocessing/src/effects/Grid.tsx"],"sourcesContent":["import React, { Ref, forwardRef, useMemo, useLayoutEffect } from 'react'\nimport { GridEffect } from 'postprocessing'\nimport { useThree } from '@react-three/fiber'\n\ntype GridProps = ConstructorParameters<typeof GridEffect>[0] &\n  Partial<{\n    size: {\n      width: number\n      height: number\n    }\n  }>\n\nexport const Grid = forwardRef(function Grid({ size, ...props }: GridProps, ref: Ref<GridEffect>) {\n  const invalidate = useThree((state) => state.invalidate)\n  const effect = useMemo(() => new GridEffect(props), [props])\n  useLayoutEffect(() => {\n    if (size) effect.setSize(size.width, size.height)\n    invalidate()\n  }, [effect, size, invalidate])\n  return <primitive ref={ref} object={effect} dispose={null} />\n})\n"],"mappings":";;;;;;AAYa,MAAAA,IAAA,GAAOC,UAAA,CAAW,SAASC,MAAAC,IAAA,EAAoCC,GAAA,EAAsB;EAAA,IAArD;MAAEC;IAAe,IAAAF,IAAA;IAANG,KAAA,GAAAC,wBAAA,CAAAJ,IAAA,EAAAK,SAAA;EACtD,MAAMC,UAAA,GAAaC,QAAA,CAAUC,KAAA,IAAUA,KAAA,CAAMF,UAAU;EACjD,MAAAG,MAAA,GAASC,OAAA,CAAQ,MAAM,IAAIC,UAAA,CAAWR,KAAK,GAAG,CAACA,KAAK,CAAC;EAC3DS,eAAA,CAAgB,MAAM;IAChB,IAAAV,IAAA,EAAMO,MAAA,CAAOI,OAAA,CAAQX,IAAA,CAAKY,KAAA,EAAOZ,IAAA,CAAKa,MAAM;IACrCT,UAAA;EACV,IAACG,MAAA,EAAQP,IAAA,EAAMI,UAAU,CAAC;EAC7B,sBAAAU,GAAA,CAAQ,aAAU;IAAAf,GAAA;IAAUgB,MAAA,EAAQR,MAAA;IAAQS,OAAA,EAAS;EAAM;AAC7D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}