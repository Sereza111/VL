{"ast":null,"code":"// src/screens/ProfileScreen.js - –ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è\nimport React,{useState,useEffect,useRef}from'react';import{FaCrown,FaCoins,FaUserFriends,FaBoxOpen,FaCamera,FaScroll,FaMoon,FaFeatherAlt,FaBook,FaStar,FaGem}from'react-icons/fa';import'./ProfileScreen.css';import{getUserByTelegramId}from'../services/userService';import{getUserTasks}from'../services/taskService';import anime from'animejs/lib/anime.js';// –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLOR_PALETTE={darkPurple:'#3C2F4F',// –¢—ë–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω\nbeigeParchment:'#E8D3A9',// –ë–µ–∂–µ–≤–æ-–ø–µ—Ä–≥–∞–º–µ–Ω—Ç–Ω—ã–π ‚Äî —Ç–µ–∫—Å—Ç, –∞–∫—Ü–µ–Ω—Ç—ã\ndarkTurquoise:'#1A3C34',// –¢—ë–º–Ω—ã–π –±–∏—Ä—é–∑–æ–≤—ã–π ‚Äî —Å–≤–µ—Ç–ª—è—á–∫–∏, —Å–≤–µ—á–µ–Ω–∏–µ\ninkyBlue:'#1B263B',// –ß–µ—Ä–Ω–∏–ª—å–Ω—ã–π —Å–∏–Ω–∏–π ‚Äî —Ç–µ–Ω–∏, –∫–æ–Ω—Ç—É—Ä—ã\nmoonBlue:'#A8C7FA'// –ì–æ–ª—É–±–æ–≤–∞—Ç—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ –ª—É–Ω—ã\n};// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nconst formatUserId=id=>{if(!id)return'000000';return String(id).padStart(6,'0');};const ProfileScreen=_ref=>{var _propUserData$friends,_propUserData$friends2;let{userData:propUserData,balance:initialBalance,level,exp,nextLevelExp,items=[],onUpdate}=_ref;// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º balance –≤ —á–∏—Å–ª–æ\nconst balance=parseFloat(initialBalance);const[avatarUrl,setAvatarUrl]=useState(null);const[userData,setUserData]=useState(propUserData||null);const[userTasks,setUserTasks]=useState([]);const[loading,setLoading]=useState(true);const[showInventory,setShowInventory]=useState(false);const[activeTab,setActiveTab]=useState('profile');// 'profile', 'achievements', 'inventory'\nconst[selectedAchievement,setSelectedAchievement]=useState(null);// Refs\nconst fileInputRef=useRef(null);const containerRef=useRef(null);const particlesRef=useRef([]);const profileCardRef=useRef(null);const achievementsRef=useRef(null);const inventoryRef=useRef(null);// –î–æ–±–∞–≤–ª—è–µ–º inventory items –∏–∑ FunScreen –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ items\nconst inventoryItems=items.length>0?items:[{id:'arcanum',name:'–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ü–µ—á–∞—Ç—å',description:'–î—Ä–µ–≤–Ω–∏–π —Å–∏–º–≤–æ–ª - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —É–¥–∞—á—É –Ω–∞ 10%',rarity:'rare',icon:'‚ò•',quantity:1},{id:'umbra',name:'–≠—Å—Å–µ–Ω—Ü–∏—è –¢–µ–Ω–µ–π',description:'–í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–≤–∏–¥–∏–º–æ—Å—Ç—å',rarity:'epic',icon:'‚òæ',quantity:2},{id:'lumen',name:'–°–≤–µ—Ç—è—â–∏–π—Å—è –ö—Ä–∏—Å—Ç–∞–ª–ª',description:'–†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ –ø—É—Ç–∏',rarity:'legendary',icon:'‚úß',quantity:1}];// –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Å—Ç–∏—Ü\nuseEffect(()=>{if(!containerRef.current)return;// –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã\nconst createParticles=()=>{const container=containerRef.current;const particles=[];// –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —á–∞—Å—Ç–∏—Ü—ã\nparticlesRef.current.forEach(particle=>{if(particle.parentNode){particle.parentNode.removeChild(particle);}});// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã\nfor(let i=0;i<20;i++){const particle=document.createElement('div');particle.className='mystical-particle';// –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ –ø–æ–∑–∏—Ü–∏—è\nconst size=2+Math.random()*4;const posX=Math.random()*100;const posY=Math.random()*100;const delay=Math.random()*5;const duration=10+Math.random()*20;const color=Math.random()>0.5?COLOR_PALETTE.beigeParchment:COLOR_PALETTE.moonBlue;// –°—Ç–∏–ª–∏ —á–∞—Å—Ç–∏—Ü—ã\nObject.assign(particle.style,{position:'absolute',width:\"\".concat(size,\"px\"),height:\"\".concat(size,\"px\"),borderRadius:'50%',backgroundColor:color,opacity:0,top:\"\".concat(posY,\"%\"),left:\"\".concat(posX,\"%\"),boxShadow:\"0 0 \".concat(size*2,\"px \").concat(color),zIndex:-1,pointerEvents:'none'});// –î–æ–±–∞–≤–ª—è–µ–º —á–∞—Å—Ç–∏—Ü—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä\ncontainer.appendChild(particle);particles.push(particle);// –ê–Ω–∏–º–∏—Ä—É–µ–º —á–∞—Å—Ç–∏—Ü—É\nanime({targets:particle,opacity:[0,0.3,0],translateY:[0,-100],translateX:()=>[0,(Math.random()-0.5)*50],scale:[1,0.5,0],easing:'easeInOutQuad',duration:duration*1000,delay:delay*1000,loop:true});}particlesRef.current=particles;};createParticles();// –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\nreturn()=>{particlesRef.current.forEach(particle=>{if(particle.parentNode){particle.parentNode.removeChild(particle);}});};},[]);// –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫\nuseEffect(()=>{const tabContent=document.querySelector(\".tab-content[data-tab=\\\"\".concat(activeTab,\"\\\"]\"));if(tabContent){anime({targets:tabContent,opacity:[0,1],translateY:[20,0],easing:'easeOutQuad',duration:600});}},[activeTab]);// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\nuseEffect(()=>{const loadUserData=async()=>{if(propUserData!==null&&propUserData!==void 0&&propUserData.userId){try{// –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\nconst user=await getUserByTelegramId(propUserData.userId);if(user){setUserData(user);// –ü–æ–ª—É—á–∞–µ–º –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nconst tasks=await getUserTasks(user.id);setUserTasks(tasks);}else{console.warn('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω:',propUserData.userId);}}catch(error){console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:',error);}finally{setLoading(false);}}else{console.warn('–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');setLoading(false);}};// –£—Å—Ç–∞–Ω–æ–≤–∏–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\nconst timer=setTimeout(()=>{loadUserData();},300);return()=>clearTimeout(timer);},[propUserData]);const formattedId=formatUserId(propUserData===null||propUserData===void 0?void 0:propUserData.userId);// –ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–≤–Ω—è\nconst progress=Math.min(100,exp/nextLevelExp*100);// –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ XP –¥–æ —Å–æ—Ç—ã—Ö\nconst roundedExp=Math.round(exp*100)/100;const roundedNextLevelExp=Math.round(nextLevelExp*100)/100;// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á\nconst completedTasksCount=userTasks.filter(task=>task.user_task_status==='completed').length;// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π\nconst achievements=[{id:'newbie',icon:'ü•â',title:'–ù–µ–æ—Ñ–∏—Ç',description:'–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –≤ –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–º –º–∏—Ä–µ',isCompleted:true,reward:'+10 XP'},{id:'first_steps',icon:'üí∞',title:'–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏',description:'–ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ 100 VL',isCompleted:balance>=100,reward:'+20 XP'},{id:'social',icon:'üë•',title:'–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥',description:'–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ 5 —Å–æ—é–∑–Ω–∏–∫–æ–≤',isCompleted:((propUserData===null||propUserData===void 0?void 0:(_propUserData$friends=propUserData.friends)===null||_propUserData$friends===void 0?void 0:_propUserData$friends.length)||0)>=5,reward:'+50 XP, +50 VL'},{id:'active',icon:'‚≠ê',title:'–ê–¥–µ–ø—Ç',description:'–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∏—Ç—É–∞–ª—ã',isCompleted:completedTasksCount>=3,reward:'+30 XP, +20 VL'},{id:'champion',icon:'üèÜ',title:'–ú–∞—Å—Ç–µ—Ä',description:'–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ 10 —É—Ä–æ–≤–Ω—è',isCompleted:level>=10,reward:'+100 XP, +100 VL'},{id:'vl_master',icon:'üëë',title:'–ê—Ä—Ö–∏–º–∞–≥',description:'–ù–∞–∫–æ–ø–∏—Ç–µ 10,000 VL',isCompleted:balance>=10000,reward:'+500 XP, –û—Å–æ–±—ã–π –ø—Ä–µ–¥–º–µ—Ç'}];// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ\nconst handlePhotoUpload=event=>{const file=event.target.files[0];if(file&&file.type.startsWith('image/')){const reader=new FileReader();reader.onload=e=>{const imageUrl=e.target.result;setAvatarUrl(imageUrl);// –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏\nanime({targets:'.user-avatar',scale:[1,1.1,1],borderColor:[COLOR_PALETTE.beigeParchment,COLOR_PALETTE.moonBlue,COLOR_PALETTE.beigeParchment],boxShadow:['0 0 10px rgba(232, 211, 169, 0.5)','0 0 20px rgba(168, 199, 250, 0.8)','0 0 10px rgba(232, 211, 169, 0.5)'],easing:'easeInOutQuad',duration:1000});if(onUpdate){onUpdate({avatarUrl:imageUrl});}};reader.readAsDataURL(file);}};// –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞\nconst triggerFileInput=()=>{var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏\nconst handleMouseEnter=e=>{anime({targets:e.currentTarget,boxShadow:['0 0 5px rgba(232, 211, 169, 0.3)','0 0 15px rgba(232, 211, 169, 0.5)'],scale:1.03,easing:'easeOutQuad',duration:300});};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ —É—Ö–æ–¥–µ –º—ã—à–∏\nconst handleMouseLeave=e=>{anime({targets:e.currentTarget,boxShadow:'0 0 5px rgba(232, 211, 169, 0.3)',scale:1,easing:'easeOutQuad',duration:300});};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π\nconst switchTab=tab=>{// –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏\nconst currentTabContent=document.querySelector(\".tab-content[data-tab=\\\"\".concat(activeTab,\"\\\"]\"));if(currentTabContent){anime({targets:currentTabContent,opacity:[1,0],translateY:[0,20],easing:'easeOutQuad',duration:300,complete:()=>{setActiveTab(tab);}});}else{setActiveTab(tab);}};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è\nconst showAchievementDetails=achievement=>{setSelectedAchievement(achievement);// –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π\nanime({targets:'.achievement-details',opacity:[0,1],translateY:[20,0],easing:'easeOutQuad',duration:300});};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è\nconst closeAchievementDetails=()=>{// –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π\nanime({targets:'.achievement-details',opacity:[1,0],translateY:[0,20],easing:'easeOutQuad',duration:300,complete:()=>{setSelectedAchievement(null);}});};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"mystical-loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mystical-loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mystical-loading-text\",children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0432\\u0430\\u0435\\u043C \\u043A\\u043D\\u0438\\u0433\\u0443 \\u0441\\u0443\\u0434\\u044C\\u0431\\u044B...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-screen\",ref:containerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mystical-overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-header\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(FaScroll,{}),\" \\u041A\\u043D\\u0438\\u0433\\u0430 \\u041F\\u043E\\u0437\\u043D\\u0430\\u043D\\u0438\\u044F\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mystical-tabs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab \".concat(activeTab==='profile'?'active':''),onClick:()=>switchTab('profile'),children:[/*#__PURE__*/_jsx(FaBook,{}),\" \\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab \".concat(activeTab==='achievements'?'active':''),onClick:()=>switchTab('achievements'),children:[/*#__PURE__*/_jsx(FaStar,{}),\" \\u0414\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u044F\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab \".concat(activeTab==='inventory'?'active':''),onClick:()=>switchTab('inventory'),children:[/*#__PURE__*/_jsx(FaBoxOpen,{}),\" \\u0410\\u0440\\u0442\\u0435\\u0444\\u0430\\u043A\\u0442\\u044B\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content \".concat(activeTab==='profile'?'active':''),\"data-tab\":\"profile\",ref:profileCardRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"mystical-profile-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"avatar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-avatar\",onClick:triggerFileInput,children:[avatarUrl?/*#__PURE__*/_jsx(\"img\",{src:avatarUrl,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\",className:\"avatar-image\"}):/*#__PURE__*/_jsx(\"div\",{className:\"avatar-initial\",children:userData!==null&&userData!==void 0&&userData.first_name?userData.first_name.charAt(0):propUserData!==null&&propUserData!==void 0&&propUserData.userId?propUserData.userId.charAt(0):'?'}),/*#__PURE__*/_jsx(\"div\",{className:\"avatar-overlay\",children:/*#__PURE__*/_jsx(FaCamera,{className:\"camera-icon\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,onChange:handlePhotoUpload,accept:\"image/*\",className:\"hidden-input\"}),/*#__PURE__*/_jsx(\"div\",{className:\"avatar-glow\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-name\",children:[(userData===null||userData===void 0?void 0:userData.first_name)||'–ú–∏—Å—Ç–∏–∫',\" \",(userData===null||userData===void 0?void 0:userData.last_name)||'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-id\",children:[\"ID: #\",formattedId]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-title\",children:level<5?'–ù–µ–æ—Ñ–∏—Ç':level<10?'–ê–¥–µ–ø—Ç':level<15?'–ú–∞—Å—Ç–µ—Ä':level<20?'–ê—Ä—Ö–∏–º–∞–≥':'–í–µ—Ä—Ö–æ–≤–Ω—ã–π –ú–∞–≥'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mystical-level-indicator\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"level-badge\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-value\",children:level}),/*#__PURE__*/_jsx(\"div\",{className:\"level-label\",children:\"\\u0443\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u041E\\u043F\\u044B\\u0442 \\u043F\\u043E\\u0437\\u043D\\u0430\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"exp-value\",children:[roundedExp.toFixed(2),\" / \",roundedNextLevelExp.toFixed(2),\" XP\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progress,\"%\")}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaCoins,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:balance.toFixed(2)}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441 VL\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaUserFriends,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:(propUserData===null||propUserData===void 0?void 0:(_propUserData$friends2=propUserData.friends)===null||_propUserData$friends2===void 0?void 0:_propUserData$friends2.length)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u0421\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u0438\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaGem,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:items.length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u0410\\u0440\\u0442\\u0435\\u0444\\u0430\\u043A\\u0442\\u044B\"})]})]})]}),userTasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"tasks-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaFeatherAlt,{}),\" \\u0415\\u0436\\u0435\\u0434\\u043D\\u0435\\u0432\\u043D\\u044B\\u0435 \\u0440\\u0438\\u0442\\u0443\\u0430\\u043B\\u044B\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"tasks-list\",children:userTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"task-item \".concat(task.user_task_status==='completed'?'completed':'pending'),onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"task-title\",children:task.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-reward\",children:[\"+\",task.reward,\" VL\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"task-status\",children:task.user_task_status==='completed'?'–ó–∞–≤–µ—Ä—à–µ–Ω–æ':'–í –ø—Ä–æ—Ü–µ—Å—Å–µ'})]},task.id))})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content \".concat(activeTab==='achievements'?'active':''),\"data-tab\":\"achievements\",ref:achievementsRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"achievements-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaStar,{}),\" \\u041C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0434\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u044F\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"achievements-grid\",children:achievements.map(achievement=>/*#__PURE__*/_jsxs(\"div\",{className:\"achievement-card \".concat(!achievement.isCompleted?'locked':''),onClick:()=>achievement.isCompleted&&showAchievementDetails(achievement),onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"achievement-icon\",children:achievement.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"achievement-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:achievement.title}),/*#__PURE__*/_jsx(\"p\",{children:achievement.description}),achievement.isCompleted?/*#__PURE__*/_jsx(\"div\",{className:\"achievement-completed\",children:\"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u043E\"}):/*#__PURE__*/_jsx(\"div\",{className:\"achievement-locked\",children:\"\\u041D\\u0435 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u043E\"})]})]},achievement.id))})]}),selectedAchievement&&/*#__PURE__*/_jsx(\"div\",{className:\"achievement-details-overlay\",onClick:closeAchievementDetails,children:/*#__PURE__*/_jsxs(\"div\",{className:\"achievement-details\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"achievement-details-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"achievement-details-icon\",children:selectedAchievement.icon}),/*#__PURE__*/_jsx(\"h3\",{children:selectedAchievement.title}),/*#__PURE__*/_jsx(\"button\",{className:\"close-details-btn\",onClick:closeAchievementDetails,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"achievement-details-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"achievement-details-description\",children:selectedAchievement.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"achievement-details-reward\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u041D\\u0430\\u0433\\u0440\\u0430\\u0434\\u0430:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedAchievement.reward})]})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content \".concat(activeTab==='inventory'?'active':''),\"data-tab\":\"inventory\",ref:inventoryRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaBoxOpen,{}),\" \\u041C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0430\\u0440\\u0442\\u0435\\u0444\\u0430\\u043A\\u0442\\u044B\"]}),inventoryItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-inventory\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u0430\\u0448 \\u0438\\u043D\\u0432\\u0435\\u043D\\u0442\\u0430\\u0440\\u044C \\u043F\\u0443\\u0441\\u0442\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0418\\u0441\\u0441\\u043B\\u0435\\u0434\\u0443\\u0439\\u0442\\u0435 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043C\\u0438\\u0440, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043D\\u0430\\u0439\\u0442\\u0438 \\u0430\\u0440\\u0442\\u0435\\u0444\\u0430\\u043A\\u0442\\u044B!\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"inventory-grid\",children:inventoryItems.map(item=>{const rarityColor=item.rarity==='legendary'?'#f39c12':item.rarity==='epic'?'#9b59b6':item.rarity==='rare'?'#4a90e2':'#34495e';return/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-item\",style:{borderColor:rarityColor},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-icon\",style:{color:rarityColor},children:item.icon||'‚úß'}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsx(\"div\",{className:\"item-rarity\",style:{color:rarityColor},children:item.rarity==='legendary'?'–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π':item.rarity==='epic'?'–≠–ø–∏—á–µ—Å–∫–∏–π':item.rarity==='rare'?'–†–µ–¥–∫–∏–π':'–û–±—ã—á–Ω—ã–π'}),item.quantity>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"item-quantity\",children:[\"x\",item.quantity]})]})]},item.id);})})]})})]});};export default ProfileScreen;","map":{"version":3,"names":["React","useState","useEffect","useRef","FaCrown","FaCoins","FaUserFriends","FaBoxOpen","FaCamera","FaScroll","FaMoon","FaFeatherAlt","FaBook","FaStar","FaGem","getUserByTelegramId","getUserTasks","anime","jsx","_jsx","jsxs","_jsxs","COLOR_PALETTE","darkPurple","beigeParchment","darkTurquoise","inkyBlue","moonBlue","formatUserId","id","String","padStart","ProfileScreen","_ref","_propUserData$friends","_propUserData$friends2","userData","propUserData","balance","initialBalance","level","exp","nextLevelExp","items","onUpdate","parseFloat","avatarUrl","setAvatarUrl","setUserData","userTasks","setUserTasks","loading","setLoading","showInventory","setShowInventory","activeTab","setActiveTab","selectedAchievement","setSelectedAchievement","fileInputRef","containerRef","particlesRef","profileCardRef","achievementsRef","inventoryRef","inventoryItems","length","name","description","rarity","icon","quantity","current","createParticles","container","particles","forEach","particle","parentNode","removeChild","i","document","createElement","className","size","Math","random","posX","posY","delay","duration","color","Object","assign","style","position","width","concat","height","borderRadius","backgroundColor","opacity","top","left","boxShadow","zIndex","pointerEvents","appendChild","push","targets","translateY","translateX","scale","easing","loop","tabContent","querySelector","loadUserData","userId","user","tasks","console","warn","error","timer","setTimeout","clearTimeout","formattedId","progress","min","roundedExp","round","roundedNextLevelExp","completedTasksCount","filter","task","user_task_status","achievements","title","isCompleted","reward","friends","handlePhotoUpload","event","file","target","files","type","startsWith","reader","FileReader","onload","e","imageUrl","result","borderColor","readAsDataURL","triggerFileInput","_fileInputRef$current","click","handleMouseEnter","currentTarget","handleMouseLeave","switchTab","tab","currentTabContent","complete","showAchievementDetails","achievement","closeAchievementDetails","children","ref","onClick","src","alt","first_name","charAt","onChange","accept","last_name","toFixed","onMouseEnter","onMouseLeave","map","stopPropagation","item","rarityColor"],"sources":["/var/www/www-root/data/www/knigavl.ru/src/screens/ProfileScreen.js"],"sourcesContent":["// src/screens/ProfileScreen.js - –ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è\nimport React, { useState, useEffect, useRef } from 'react';\nimport { \n  FaCrown, FaCoins, FaUserFriends, FaBoxOpen, FaCamera,\n  FaScroll, FaMoon, FaFeatherAlt, FaBook, FaStar, FaGem\n} from 'react-icons/fa';\nimport './ProfileScreen.css';\nimport { getUserByTelegramId } from '../services/userService';\nimport { getUserTasks } from '../services/taskService';\nimport anime from 'animejs/lib/anime.js';\n\n// –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π\nconst COLOR_PALETTE = {\n  darkPurple: '#3C2F4F',    // –¢—ë–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω\n  beigeParchment: '#E8D3A9', // –ë–µ–∂–µ–≤–æ-–ø–µ—Ä–≥–∞–º–µ–Ω—Ç–Ω—ã–π ‚Äî —Ç–µ–∫—Å—Ç, –∞–∫—Ü–µ–Ω—Ç—ã\n  darkTurquoise: '#1A3C34',  // –¢—ë–º–Ω—ã–π –±–∏—Ä—é–∑–æ–≤—ã–π ‚Äî —Å–≤–µ—Ç–ª—è—á–∫–∏, —Å–≤–µ—á–µ–Ω–∏–µ\n  inkyBlue: '#1B263B',       // –ß–µ—Ä–Ω–∏–ª—å–Ω—ã–π —Å–∏–Ω–∏–π ‚Äî —Ç–µ–Ω–∏, –∫–æ–Ω—Ç—É—Ä—ã\n  moonBlue: '#A8C7FA',       // –ì–æ–ª—É–±–æ–≤–∞—Ç—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ –ª—É–Ω—ã\n};\n\n// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nconst formatUserId = (id) => {\n  if (!id) return '000000';\n  return String(id).padStart(6, '0');\n};\n\nconst ProfileScreen = ({ \n  userData: propUserData,\n  balance: initialBalance, \n  level, \n  exp, \n  nextLevelExp,\n  items = [],\n  onUpdate\n}) => {\n  // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º balance –≤ —á–∏—Å–ª–æ\n  const balance = parseFloat(initialBalance);\n  \n  const [avatarUrl, setAvatarUrl] = useState(null);\n  const [userData, setUserData] = useState(propUserData || null);\n  const [userTasks, setUserTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showInventory, setShowInventory] = useState(false);\n  const [activeTab, setActiveTab] = useState('profile'); // 'profile', 'achievements', 'inventory'\n  const [selectedAchievement, setSelectedAchievement] = useState(null);\n  \n  // Refs\n  const fileInputRef = useRef(null);\n  const containerRef = useRef(null);\n  const particlesRef = useRef([]);\n  const profileCardRef = useRef(null);\n  const achievementsRef = useRef(null);\n  const inventoryRef = useRef(null);\n  \n  // –î–æ–±–∞–≤–ª—è–µ–º inventory items –∏–∑ FunScreen –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ items\n  const inventoryItems = items.length > 0 ? items : [\n    { \n      id: 'arcanum', \n      name: '–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ü–µ—á–∞—Ç—å', \n      description: '–î—Ä–µ–≤–Ω–∏–π —Å–∏–º–≤–æ–ª - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —É–¥–∞—á—É –Ω–∞ 10%', \n      rarity: 'rare',\n      icon: '‚ò•',\n      quantity: 1\n    },\n    { \n      id: 'umbra', \n      name: '–≠—Å—Å–µ–Ω—Ü–∏—è –¢–µ–Ω–µ–π', \n      description: '–í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–≤–∏–¥–∏–º–æ—Å—Ç—å', \n      rarity: 'epic',\n      icon: '‚òæ',\n      quantity: 2\n    },\n    { \n      id: 'lumen', \n      name: '–°–≤–µ—Ç—è—â–∏–π—Å—è –ö—Ä–∏—Å—Ç–∞–ª–ª', \n      description: '–†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ –ø—É—Ç–∏', \n      rarity: 'legendary',\n      icon: '‚úß',\n      quantity: 1\n    }\n  ];\n\n  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Å—Ç–∏—Ü\n  useEffect(() => {\n    if (!containerRef.current) return;\n    \n    // –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã\n    const createParticles = () => {\n      const container = containerRef.current;\n      const particles = [];\n      \n      // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —á–∞—Å—Ç–∏—Ü—ã\n      particlesRef.current.forEach(particle => {\n        if (particle.parentNode) {\n          particle.parentNode.removeChild(particle);\n        }\n      });\n      \n      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã\n      for (let i = 0; i < 20; i++) {\n        const particle = document.createElement('div');\n        particle.className = 'mystical-particle';\n        \n        // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ –ø–æ–∑–∏—Ü–∏—è\n        const size = 2 + Math.random() * 4;\n        const posX = Math.random() * 100;\n        const posY = Math.random() * 100;\n        const delay = Math.random() * 5;\n        const duration = 10 + Math.random() * 20;\n        const color = Math.random() > 0.5 ? COLOR_PALETTE.beigeParchment : COLOR_PALETTE.moonBlue;\n        \n        // –°—Ç–∏–ª–∏ —á–∞—Å—Ç–∏—Ü—ã\n        Object.assign(particle.style, {\n          position: 'absolute',\n          width: `${size}px`,\n          height: `${size}px`,\n          borderRadius: '50%',\n          backgroundColor: color,\n          opacity: 0,\n          top: `${posY}%`,\n          left: `${posX}%`,\n          boxShadow: `0 0 ${size * 2}px ${color}`,\n          zIndex: -1,\n          pointerEvents: 'none'\n        });\n        \n        // –î–æ–±–∞–≤–ª—è–µ–º —á–∞—Å—Ç–∏—Ü—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä\n        container.appendChild(particle);\n        particles.push(particle);\n        \n        // –ê–Ω–∏–º–∏—Ä—É–µ–º —á–∞—Å—Ç–∏—Ü—É\n        anime({\n          targets: particle,\n          opacity: [0, 0.3, 0],\n          translateY: [0, -100],\n          translateX: () => [0, (Math.random() - 0.5) * 50],\n          scale: [1, 0.5, 0],\n          easing: 'easeInOutQuad',\n          duration: duration * 1000,\n          delay: delay * 1000,\n          loop: true\n        });\n      }\n      \n      particlesRef.current = particles;\n    };\n    \n    createParticles();\n    \n    // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n    return () => {\n      particlesRef.current.forEach(particle => {\n        if (particle.parentNode) {\n          particle.parentNode.removeChild(particle);\n        }\n      });\n    };\n  }, []);\n  \n  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫\n  useEffect(() => {\n    const tabContent = document.querySelector(`.tab-content[data-tab=\"${activeTab}\"]`);\n    if (tabContent) {\n      anime({\n        targets: tabContent,\n        opacity: [0, 1],\n        translateY: [20, 0],\n        easing: 'easeOutQuad',\n        duration: 600\n      });\n    }\n  }, [activeTab]);\n\n  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n  useEffect(() => {\n    const loadUserData = async () => {\n      if (propUserData?.userId) {\n        try {\n          // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n          const user = await getUserByTelegramId(propUserData.userId);\n          \n          if (user) {\n            setUserData(user);\n            \n            // –ü–æ–ª—É—á–∞–µ–º –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n            const tasks = await getUserTasks(user.id);\n            setUserTasks(tasks);\n          } else {\n            console.warn('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω:', propUserData.userId);\n          }\n        } catch (error) {\n          console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\n        } finally {\n          setLoading(false);\n        }\n      } else {\n        console.warn('–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');\n        setLoading(false);\n      }\n    };\n    \n    // –£—Å—Ç–∞–Ω–æ–≤–∏–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\n    const timer = setTimeout(() => {\n      loadUserData();\n    }, 300);\n    \n    return () => clearTimeout(timer);\n  }, [propUserData]);\n  \n  const formattedId = formatUserId(propUserData?.userId);\n  \n  // –ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–≤–Ω—è\n  const progress = Math.min(100, (exp / nextLevelExp) * 100);\n  \n  // –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ XP –¥–æ —Å–æ—Ç—ã—Ö\n  const roundedExp = Math.round(exp * 100) / 100;\n  const roundedNextLevelExp = Math.round(nextLevelExp * 100) / 100;\n\n  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á\n  const completedTasksCount = userTasks.filter(task => task.user_task_status === 'completed').length;\n\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π\n  const achievements = [\n    {\n      id: 'newbie',\n      icon: 'ü•â',\n      title: '–ù–µ–æ—Ñ–∏—Ç',\n      description: '–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –≤ –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–º –º–∏—Ä–µ',\n      isCompleted: true,\n      reward: '+10 XP'\n    },\n    {\n      id: 'first_steps',\n      icon: 'üí∞',\n      title: '–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏',\n      description: '–ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ 100 VL',\n      isCompleted: balance >= 100,\n      reward: '+20 XP'\n    },\n    {\n      id: 'social',\n      icon: 'üë•',\n      title: '–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥',\n      description: '–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ 5 —Å–æ—é–∑–Ω–∏–∫–æ–≤',\n      isCompleted: (propUserData?.friends?.length || 0) >= 5,\n      reward: '+50 XP, +50 VL'\n    },\n    {\n      id: 'active',\n      icon: '‚≠ê',\n      title: '–ê–¥–µ–ø—Ç',\n      description: '–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∏—Ç—É–∞–ª—ã',\n      isCompleted: completedTasksCount >= 3,\n      reward: '+30 XP, +20 VL'\n    },\n    {\n      id: 'champion',\n      icon: 'üèÜ',\n      title: '–ú–∞—Å—Ç–µ—Ä',\n      description: '–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ 10 —É—Ä–æ–≤–Ω—è',\n      isCompleted: level >= 10,\n      reward: '+100 XP, +100 VL'\n    },\n    {\n      id: 'vl_master',\n      icon: 'üëë',\n      title: '–ê—Ä—Ö–∏–º–∞–≥',\n      description: '–ù–∞–∫–æ–ø–∏—Ç–µ 10,000 VL',\n      isCompleted: balance >= 10000,\n      reward: '+500 XP, –û—Å–æ–±—ã–π –ø—Ä–µ–¥–º–µ—Ç'\n    }\n  ];\n\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ\n  const handlePhotoUpload = (event) => {\n    const file = event.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const imageUrl = e.target.result;\n        setAvatarUrl(imageUrl);\n        \n        // –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏\n        anime({\n          targets: '.user-avatar',\n          scale: [1, 1.1, 1],\n          borderColor: [\n            COLOR_PALETTE.beigeParchment,\n            COLOR_PALETTE.moonBlue,\n            COLOR_PALETTE.beigeParchment\n          ],\n          boxShadow: [\n            '0 0 10px rgba(232, 211, 169, 0.5)',\n            '0 0 20px rgba(168, 199, 250, 0.8)',\n            '0 0 10px rgba(232, 211, 169, 0.5)'\n          ],\n          easing: 'easeInOutQuad',\n          duration: 1000\n        });\n        \n        if (onUpdate) {\n          onUpdate({ avatarUrl: imageUrl });\n        }\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞\n  const triggerFileInput = () => {\n    fileInputRef.current?.click();\n  };\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏\n  const handleMouseEnter = (e) => {\n    anime({\n      targets: e.currentTarget,\n      boxShadow: [\n        '0 0 5px rgba(232, 211, 169, 0.3)',\n        '0 0 15px rgba(232, 211, 169, 0.5)'\n      ],\n      scale: 1.03,\n      easing: 'easeOutQuad',\n      duration: 300\n    });\n  };\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ —É—Ö–æ–¥–µ –º—ã—à–∏\n  const handleMouseLeave = (e) => {\n    anime({\n      targets: e.currentTarget,\n      boxShadow: '0 0 5px rgba(232, 211, 169, 0.3)',\n      scale: 1,\n      easing: 'easeOutQuad',\n      duration: 300\n    });\n  };\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π\n  const switchTab = (tab) => {\n    // –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏\n    const currentTabContent = document.querySelector(`.tab-content[data-tab=\"${activeTab}\"]`);\n    if (currentTabContent) {\n      anime({\n        targets: currentTabContent,\n        opacity: [1, 0],\n        translateY: [0, 20],\n        easing: 'easeOutQuad',\n        duration: 300,\n        complete: () => {\n          setActiveTab(tab);\n        }\n      });\n    } else {\n      setActiveTab(tab);\n    }\n  };\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è\n  const showAchievementDetails = (achievement) => {\n    setSelectedAchievement(achievement);\n    \n    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π\n    anime({\n      targets: '.achievement-details',\n      opacity: [0, 1],\n      translateY: [20, 0],\n      easing: 'easeOutQuad',\n      duration: 300\n    });\n  };\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è\n  const closeAchievementDetails = () => {\n    // –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π\n    anime({\n      targets: '.achievement-details',\n      opacity: [1, 0],\n      translateY: [0, 20],\n      easing: 'easeOutQuad',\n      duration: 300,\n      complete: () => {\n        setSelectedAchievement(null);\n      }\n    });\n  };\n  \n  if (loading) {\n    return (\n      <div className=\"mystical-loading-container\">\n        <div className=\"mystical-loading-spinner\"></div>\n        <p className=\"mystical-loading-text\">–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–Ω–∏–≥—É —Å—É–¥—å–±—ã...</p>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"profile-screen\" ref={containerRef}>\n      {/* –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω —Å —á–∞—Å—Ç–∏—Ü–∞–º–∏ */}\n      <div className=\"mystical-overlay\"></div>\n      \n      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —ç–∫—Ä–∞–Ω–∞ */}\n      <div className=\"profile-header\">\n        <h2><FaScroll /> –ö–Ω–∏–≥–∞ –ü–æ–∑–Ω–∞–Ω–∏—è</h2>\n      </div>\n      \n      {/* –í–∫–ª–∞–¥–∫–∏ */}\n      <div className=\"mystical-tabs\">\n        <div \n          className={`tab ${activeTab === 'profile' ? 'active' : ''}`}\n          onClick={() => switchTab('profile')}\n        >\n          <FaBook /> –ü—Ä–æ—Ñ–∏–ª—å\n        </div>\n        <div \n          className={`tab ${activeTab === 'achievements' ? 'active' : ''}`}\n          onClick={() => switchTab('achievements')}\n        >\n          <FaStar /> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è\n        </div>\n        <div \n          className={`tab ${activeTab === 'inventory' ? 'active' : ''}`}\n          onClick={() => switchTab('inventory')}\n        >\n          <FaBoxOpen /> –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã\n        </div>\n      </div>\n      \n      {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ \"–ü—Ä–æ—Ñ–∏–ª—å\" */}\n      <div className={`tab-content ${activeTab === 'profile' ? 'active' : ''}`} data-tab=\"profile\" ref={profileCardRef}>\n        <div className=\"mystical-profile-card\">\n          <div className=\"avatar-container\">\n            <div className=\"user-avatar\" onClick={triggerFileInput}>\n              {avatarUrl ? (\n                <img src={avatarUrl} alt=\"–ê–≤–∞—Ç–∞—Ä\" className=\"avatar-image\" />\n              ) : (\n                <div className=\"avatar-initial\">{userData?.first_name ? userData.first_name.charAt(0) : (propUserData?.userId ? propUserData.userId.charAt(0) : '?')}</div>\n              )}\n              <div className=\"avatar-overlay\">\n                <FaCamera className=\"camera-icon\" />\n              </div>\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handlePhotoUpload}\n                accept=\"image/*\"\n                className=\"hidden-input\"\n              />\n              <div className=\"avatar-glow\"></div>\n            </div>\n            <div className=\"user-info\">\n              <div className=\"user-name\">{userData?.first_name || '–ú–∏—Å—Ç–∏–∫'} {userData?.last_name || ''}</div>\n              <div className=\"user-id\">ID: #{formattedId}</div>\n              <div className=\"user-title\">\n                {level < 5 ? '–ù–µ–æ—Ñ–∏—Ç' : \n                 level < 10 ? '–ê–¥–µ–ø—Ç' : \n                 level < 15 ? '–ú–∞—Å—Ç–µ—Ä' : \n                 level < 20 ? '–ê—Ä—Ö–∏–º–∞–≥' : '–í–µ—Ä—Ö–æ–≤–Ω—ã–π –ú–∞–≥'}\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"mystical-level-indicator\">\n            <div className=\"level-badge\">\n              <div className=\"level-value\">{level}</div>\n              <div className=\"level-label\">—É—Ä–æ–≤–µ–Ω—å</div>\n            </div>\n            \n            <div className=\"progress-container\">\n              <div className=\"progress-header\">\n                <span>–û–ø—ã—Ç –ø–æ–∑–Ω–∞–Ω–∏—è</span>\n                <span className=\"exp-value\">{roundedExp.toFixed(2)} / {roundedNextLevelExp.toFixed(2)} XP</span>\n              </div>\n              <div className=\"progress-bar\">\n                <div \n                  className=\"progress-fill\" \n                  style={{ width: `${progress}%` }}\n                ></div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stats-grid\">\n            <div className=\"stat-card\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n              <div className=\"stat-icon\">\n                <FaCoins />\n              </div>\n              <div className=\"stat-content\">\n                <div className=\"stat-value\">{balance.toFixed(2)}</div>\n                <div className=\"stat-label\">–ë–∞–ª–∞–Ω—Å VL</div>\n              </div>\n            </div>\n            \n            <div className=\"stat-card\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n              <div className=\"stat-icon\">\n                <FaUserFriends />\n              </div>\n              <div className=\"stat-content\">\n                <div className=\"stat-value\">{propUserData?.friends?.length || 0}</div>\n                <div className=\"stat-label\">–°–æ—é–∑–Ω–∏–∫–∏</div>\n              </div>\n            </div>\n            \n            <div className=\"stat-card\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n              <div className=\"stat-icon\">\n                <FaGem />\n              </div>\n              <div className=\"stat-content\">\n                <div className=\"stat-value\">{items.length}</div>\n                <div className=\"stat-label\">–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</div>\n              </div>\n            </div>\n          </div>\n          \n          {userTasks.length > 0 && (\n            <div className=\"tasks-section\">\n              <h3><FaFeatherAlt /> –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∏—Ç—É–∞–ª—ã</h3>\n              <div className=\"tasks-list\">\n                {userTasks.map(task => (\n                  <div \n                    key={task.id}\n                    className={`task-item ${task.user_task_status === 'completed' ? 'completed' : 'pending'}`}\n                    onMouseEnter={handleMouseEnter}\n                    onMouseLeave={handleMouseLeave}\n                  >\n                    <div className=\"task-title\">{task.title}</div>\n                    <div className=\"task-reward\">+{task.reward} VL</div>\n                    <div className=\"task-status\">\n                      {task.user_task_status === 'completed' ? '–ó–∞–≤–µ—Ä—à–µ–Ω–æ' : '–í –ø—Ä–æ—Ü–µ—Å—Å–µ'}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ \"–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è\" */}\n      <div className={`tab-content ${activeTab === 'achievements' ? 'active' : ''}`} data-tab=\"achievements\" ref={achievementsRef}>\n        <div className=\"achievements-section\">\n          <h3><FaStar /> –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>\n          \n          <div className=\"achievements-grid\">\n            {achievements.map(achievement => (\n              <div \n                key={achievement.id}\n                className={`achievement-card ${!achievement.isCompleted ? 'locked' : ''}`}\n                onClick={() => achievement.isCompleted && showAchievementDetails(achievement)}\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n              >\n                <div className=\"achievement-icon\">{achievement.icon}</div>\n                <div className=\"achievement-info\">\n                  <h4>{achievement.title}</h4>\n                  <p>{achievement.description}</p>\n                  {achievement.isCompleted ? (\n                    <div className=\"achievement-completed\">–ü–æ–ª—É—á–µ–Ω–æ</div>\n                  ) : (\n                    <div className=\"achievement-locked\">–ù–µ –ø–æ–ª—É—á–µ–Ω–æ</div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        {/* –î–µ—Ç–∞–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è */}\n        {selectedAchievement && (\n          <div className=\"achievement-details-overlay\" onClick={closeAchievementDetails}>\n            <div className=\"achievement-details\" onClick={e => e.stopPropagation()}>\n              <div className=\"achievement-details-header\">\n                <div className=\"achievement-details-icon\">{selectedAchievement.icon}</div>\n                <h3>{selectedAchievement.title}</h3>\n                <button className=\"close-details-btn\" onClick={closeAchievementDetails}>‚úï</button>\n              </div>\n              <div className=\"achievement-details-content\">\n                <p className=\"achievement-details-description\">{selectedAchievement.description}</p>\n                <div className=\"achievement-details-reward\">\n                  <h4>–ù–∞–≥—Ä–∞–¥–∞:</h4>\n                  <p>{selectedAchievement.reward}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ \"–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã\" */}\n      <div className={`tab-content ${activeTab === 'inventory' ? 'active' : ''}`} data-tab=\"inventory\" ref={inventoryRef}>\n        <div className=\"inventory-section\">\n          <h3><FaBoxOpen /> –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</h3>\n          \n          {inventoryItems.length === 0 ? (\n            <div className=\"empty-inventory\">\n              <p>–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</p>\n              <p>–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –º–∏—Ä, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã!</p>\n            </div>\n          ) : (\n            <div className=\"inventory-grid\">\n              {inventoryItems.map(item => {\n                const rarityColor = \n                  item.rarity === 'legendary' ? '#f39c12' : \n                  item.rarity === 'epic' ? '#9b59b6' : \n                  item.rarity === 'rare' ? '#4a90e2' : \n                  '#34495e';\n                \n                return (\n                  <div \n                    key={item.id} \n                    className=\"inventory-item\"\n                    style={{ borderColor: rarityColor }}\n                    onMouseEnter={handleMouseEnter}\n                    onMouseLeave={handleMouseLeave}\n                  >\n                    <div className=\"item-icon\" style={{ color: rarityColor }}>\n                      {item.icon || '‚úß'}\n                    </div>\n                    <div className=\"item-details\">\n                      <h3>{item.name}</h3>\n                      <p>{item.description}</p>\n                      <div className=\"item-rarity\" style={{ color: rarityColor }}>\n                        {item.rarity === 'legendary' ? '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π' : \n                         item.rarity === 'epic' ? '–≠–ø–∏—á–µ—Å–∫–∏–π' : \n                         item.rarity === 'rare' ? '–†–µ–¥–∫–∏–π' : '–û–±—ã—á–Ω—ã–π'}\n                      </div>\n                      {item.quantity > 1 && (\n                        <div className=\"item-quantity\">x{item.quantity}</div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}