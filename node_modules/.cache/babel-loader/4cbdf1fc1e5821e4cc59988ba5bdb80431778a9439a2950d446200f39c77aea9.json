{"ast":null,"code":"import { iterator, scan } from './tokenizer.js';\nfunction parse(input) {\n  let iter = iterator(scan(input));\n  let ret = {};\n  let matched = false;\n  while (iter.next()) {\n    let {\n      prev,\n      curr,\n      next\n    } = iter.get();\n    let isUnit = matched && (curr.isWord() || curr.isSymbol()) && prev && prev.isNumber() && !next;\n    if (curr.isNumber()) {\n      ret.value = Number(curr.value);\n      matched = true;\n    } else if (isUnit) {\n      ret.unit = curr.value;\n    } else {\n      break;\n    }\n  }\n  return ret;\n}\nexport default parse;","map":{"version":3,"names":["iterator","scan","parse","input","iter","ret","matched","next","prev","curr","get","isUnit","isWord","isSymbol","isNumber","value","Number","unit"],"sources":["/var/www/www-root/data/www/knigavl.ru/node_modules/css-doodle/src/parser/parse-compound-value.js"],"sourcesContent":["import { iterator, scan } from './tokenizer.js';\n\nfunction parse(input) {\n  let iter = iterator(scan(input));\n  let ret = {};\n  let matched = false;\n  while (iter.next()) {\n    let { prev, curr, next} = iter.get();\n    let isUnit = matched\n      && (curr.isWord() || curr.isSymbol())\n      && prev && prev.isNumber()\n      && !next;\n    if (curr.isNumber()) {\n      ret.value = Number(curr.value);\n      matched = true;\n    }\n    else if (isUnit) {\n      ret.unit = curr.value;\n    } else {\n      break;\n    }\n  }\n  return ret;\n}\n\nexport default parse;\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,IAAI,QAAQ,gBAAgB;AAE/C,SAASC,KAAKA,CAACC,KAAK,EAAE;EACpB,IAAIC,IAAI,GAAGJ,QAAQ,CAACC,IAAI,CAACE,KAAK,CAAC,CAAC;EAChC,IAAIE,GAAG,GAAG,CAAC,CAAC;EACZ,IAAIC,OAAO,GAAG,KAAK;EACnB,OAAOF,IAAI,CAACG,IAAI,CAAC,CAAC,EAAE;IAClB,IAAI;MAAEC,IAAI;MAAEC,IAAI;MAAEF;IAAI,CAAC,GAAGH,IAAI,CAACM,GAAG,CAAC,CAAC;IACpC,IAAIC,MAAM,GAAGL,OAAO,KACdG,IAAI,CAACG,MAAM,CAAC,CAAC,IAAIH,IAAI,CAACI,QAAQ,CAAC,CAAC,CAAC,IAClCL,IAAI,IAAIA,IAAI,CAACM,QAAQ,CAAC,CAAC,IACvB,CAACP,IAAI;IACV,IAAIE,IAAI,CAACK,QAAQ,CAAC,CAAC,EAAE;MACnBT,GAAG,CAACU,KAAK,GAAGC,MAAM,CAACP,IAAI,CAACM,KAAK,CAAC;MAC9BT,OAAO,GAAG,IAAI;IAChB,CAAC,MACI,IAAIK,MAAM,EAAE;MACfN,GAAG,CAACY,IAAI,GAAGR,IAAI,CAACM,KAAK;IACvB,CAAC,MAAM;MACL;IACF;EACF;EACA,OAAOV,GAAG;AACZ;AAEA,eAAeH,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}