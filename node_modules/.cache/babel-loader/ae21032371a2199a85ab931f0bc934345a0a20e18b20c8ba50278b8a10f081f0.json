{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom/client';import'./index.css';import App from'./App';import'./config';// Импортируем конфигурацию\n// Initialize occult forest theme elements\nimport{jsx as _jsx}from\"react/jsx-runtime\";const initOccultTheme=()=>{// Create forest background if it doesn't exist\nif(!document.querySelector('.forest-background')){const forestBg=document.createElement('div');forestBg.className='forest-background';document.body.appendChild(forestBg);}// Initialize candles\nconst createCandles=()=>{const candlePositions=[{left:'10%',bottom:'20%'},{right:'10%',bottom:'25%'}];candlePositions.forEach((pos,index)=>{const candle=document.createElement('div');candle.className=\"candle candle-\".concat(index+1);// Set position\nObject.keys(pos).forEach(key=>{candle.style[key]=pos[key];});document.body.appendChild(candle);});};// Call initialization functions\ncreateCandles();};// База данных инициализируется на сервере, клиент только отправляет запросы\nconsole.log('Запуск клиентского приложения...');// Create root and render app\nconst root=ReactDOM.createRoot(document.getElementById('root'));root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(App,{})}));// Initialize theme after render\nwindow.addEventListener('load',initOccultTheme);// Fallback: hide HTML preloader once React is mounted\nconst hideHtmlPreloader=()=>{try{const preloader=document.querySelector('.preloader');if(preloader){preloader.style.transition='opacity 0.8s ease';preloader.style.opacity='0';setTimeout(()=>{if(preloader)preloader.style.display='none';},900);}}catch(e){// no-op\n}};// Hide preloader on load and also right after first paint\nif(document.readyState==='complete'){setTimeout(hideHtmlPreloader,300);}else{window.addEventListener('load',()=>setTimeout(hideHtmlPreloader,300));}requestAnimationFrame(hideHtmlPreloader);","map":{"version":3,"names":["React","ReactDOM","App","jsx","_jsx","initOccultTheme","document","querySelector","forestBg","createElement","className","body","appendChild","createCandles","candlePositions","left","bottom","right","forEach","pos","index","candle","concat","Object","keys","key","style","console","log","root","createRoot","getElementById","render","StrictMode","children","window","addEventListener","hideHtmlPreloader","preloader","transition","opacity","setTimeout","display","e","readyState","requestAnimationFrame"],"sources":["/var/www/www-root/data/www/knigavl.ru/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport './config'; // Импортируем конфигурацию\n\n// Initialize occult forest theme elements\nconst initOccultTheme = () => {\n  // Create forest background if it doesn't exist\n  if (!document.querySelector('.forest-background')) {\n    const forestBg = document.createElement('div');\n    forestBg.className = 'forest-background';\n    document.body.appendChild(forestBg);\n  }\n  \n  // Initialize candles\n  const createCandles = () => {\n    const candlePositions = [\n      { left: '10%', bottom: '20%' },\n      { right: '10%', bottom: '25%' }\n    ];\n    \n    candlePositions.forEach((pos, index) => {\n      const candle = document.createElement('div');\n      candle.className = `candle candle-${index + 1}`;\n      \n      // Set position\n      Object.keys(pos).forEach(key => {\n        candle.style[key] = pos[key];\n      });\n      \n      document.body.appendChild(candle);\n    });\n  };\n  \n  // Call initialization functions\n  createCandles();\n};\n\n// База данных инициализируется на сервере, клиент только отправляет запросы\nconsole.log('Запуск клиентского приложения...');\n\n// Create root and render app\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// Initialize theme after render\nwindow.addEventListener('load', initOccultTheme);\n\n// Fallback: hide HTML preloader once React is mounted\nconst hideHtmlPreloader = () => {\n  try {\n    const preloader = document.querySelector('.preloader');\n    if (preloader) {\n      preloader.style.transition = 'opacity 0.8s ease';\n      preloader.style.opacity = '0';\n      setTimeout(() => {\n        if (preloader) preloader.style.display = 'none';\n      }, 900);\n    }\n  } catch (e) {\n    // no-op\n  }\n};\n\n// Hide preloader on load and also right after first paint\nif (document.readyState === 'complete') {\n  setTimeout(hideHtmlPreloader, 300);\n} else {\n  window.addEventListener('load', () => setTimeout(hideHtmlPreloader, 300));\n}\nrequestAnimationFrame(hideHtmlPreloader);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,aAAa,CACpB,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,MAAO,UAAU,CAAE;AAEnB;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B;AACA,GAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC,CAAE,CACjD,KAAM,CAAAC,QAAQ,CAAGF,QAAQ,CAACG,aAAa,CAAC,KAAK,CAAC,CAC9CD,QAAQ,CAACE,SAAS,CAAG,mBAAmB,CACxCJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACJ,QAAQ,CAAC,CACrC,CAEA;AACA,KAAM,CAAAK,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,eAAe,CAAG,CACtB,CAAEC,IAAI,CAAE,KAAK,CAAEC,MAAM,CAAE,KAAM,CAAC,CAC9B,CAAEC,KAAK,CAAE,KAAK,CAAED,MAAM,CAAE,KAAM,CAAC,CAChC,CAEDF,eAAe,CAACI,OAAO,CAAC,CAACC,GAAG,CAAEC,KAAK,GAAK,CACtC,KAAM,CAAAC,MAAM,CAAGf,QAAQ,CAACG,aAAa,CAAC,KAAK,CAAC,CAC5CY,MAAM,CAACX,SAAS,kBAAAY,MAAA,CAAoBF,KAAK,CAAG,CAAC,CAAE,CAE/C;AACAG,MAAM,CAACC,IAAI,CAACL,GAAG,CAAC,CAACD,OAAO,CAACO,GAAG,EAAI,CAC9BJ,MAAM,CAACK,KAAK,CAACD,GAAG,CAAC,CAAGN,GAAG,CAACM,GAAG,CAAC,CAC9B,CAAC,CAAC,CAEFnB,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACS,MAAM,CAAC,CACnC,CAAC,CAAC,CACJ,CAAC,CAED;AACAR,aAAa,CAAC,CAAC,CACjB,CAAC,CAED;AACAc,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC,CAE/C;AACA,KAAM,CAAAC,IAAI,CAAG5B,QAAQ,CAAC6B,UAAU,CAACxB,QAAQ,CAACyB,cAAc,CAAC,MAAM,CAAC,CAAC,CACjEF,IAAI,CAACG,MAAM,cACT5B,IAAA,CAACJ,KAAK,CAACiC,UAAU,EAAAC,QAAA,cACf9B,IAAA,CAACF,GAAG,GAAE,CAAC,CACS,CACpB,CAAC,CAED;AACAiC,MAAM,CAACC,gBAAgB,CAAC,MAAM,CAAE/B,eAAe,CAAC,CAEhD;AACA,KAAM,CAAAgC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,CACF,KAAM,CAAAC,SAAS,CAAGhC,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC,CACtD,GAAI+B,SAAS,CAAE,CACbA,SAAS,CAACZ,KAAK,CAACa,UAAU,CAAG,mBAAmB,CAChDD,SAAS,CAACZ,KAAK,CAACc,OAAO,CAAG,GAAG,CAC7BC,UAAU,CAAC,IAAM,CACf,GAAIH,SAAS,CAAEA,SAAS,CAACZ,KAAK,CAACgB,OAAO,CAAG,MAAM,CACjD,CAAC,CAAE,GAAG,CAAC,CACT,CACF,CAAE,MAAOC,CAAC,CAAE,CACV;AAAA,CAEJ,CAAC,CAED;AACA,GAAIrC,QAAQ,CAACsC,UAAU,GAAK,UAAU,CAAE,CACtCH,UAAU,CAACJ,iBAAiB,CAAE,GAAG,CAAC,CACpC,CAAC,IAAM,CACLF,MAAM,CAACC,gBAAgB,CAAC,MAAM,CAAE,IAAMK,UAAU,CAACJ,iBAAiB,CAAE,GAAG,CAAC,CAAC,CAC3E,CACAQ,qBAAqB,CAACR,iBAAiB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}