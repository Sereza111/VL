{"ast":null,"code":"import{executeApiRequest}from'./database';import{updateUserBalance}from'./userService';/**\r\n * Создает новую задачу\r\n * @param {Object} taskData - Данные задачи\r\n * @returns {Promise<Object>} - Созданная задача\r\n */export const createTask=async taskData=>{try{return await executeApiRequest('/tasks','POST',taskData);}catch(error){console.error('Ошибка при создании задачи:',error);throw error;}};/**\r\n * Получает список всех активных задач\r\n * @returns {Promise<Array>} - Список задач\r\n */export const getActiveTasks=async()=>{try{return await executeApiRequest('/tasks');}catch(error){console.error('Ошибка при получении списка задач:',error);return[];}};/**\r\n * Получает задачу по ID\r\n * @param {number} taskId - ID задачи\r\n * @returns {Promise<Object|null>} - Данные задачи или null\r\n */export const getTaskById=async taskId=>{try{return await executeApiRequest(\"/tasks/\".concat(taskId));}catch(error){console.error('Ошибка при получении задачи:',error);return null;}};/**\r\n * Назначает задачу пользователю\r\n * @param {number} userId - ID пользователя\r\n * @param {number} taskId - ID задачи\r\n * @returns {Promise<Object>} - Данные о назначении\r\n */export const assignTaskToUser=async(userId,taskId)=>{try{return await executeApiRequest('/tasks/assign','POST',{userId,taskId});}catch(error){console.error('Ошибка при назначении задачи пользователю:',error);throw error;}};/**\r\n * Завершает задачу пользователя и начисляет награду\r\n * @param {number} userId - ID пользователя\r\n * @param {number} taskId - ID задачи\r\n * @returns {Promise<Object>} - Обновленные данные о назначении\r\n */export const completeUserTask=async(userId,taskId)=>{try{return await executeApiRequest('/tasks/complete','POST',{userId,taskId});}catch(error){console.error('Ошибка при завершении задачи пользователя:',error);throw error;}};/**\r\n * Получает список задач пользователя\r\n * @param {number} userId - ID пользователя\r\n * @returns {Promise<Array>} - Список задач пользователя\r\n */export const getUserTasks=async userId=>{try{const tasks=await executeApiRequest(\"/tasks/user/\".concat(userId));return tasks||[];}catch(error){console.error('Ошибка при получении списка задач пользователя:',error);return[];// Возвращаем пустой массив вместо выброса ошибки\n}};","map":{"version":3,"names":["executeApiRequest","updateUserBalance","createTask","taskData","error","console","getActiveTasks","getTaskById","taskId","concat","assignTaskToUser","userId","completeUserTask","getUserTasks","tasks"],"sources":["/var/www/www-root/data/www/knigavl.ru/src/services/taskService.js"],"sourcesContent":["import { executeApiRequest } from './database';\r\nimport { updateUserBalance } from './userService';\r\n\r\n/**\r\n * Создает новую задачу\r\n * @param {Object} taskData - Данные задачи\r\n * @returns {Promise<Object>} - Созданная задача\r\n */\r\nexport const createTask = async (taskData) => {\r\n  try {\r\n    return await executeApiRequest('/tasks', 'POST', taskData);\r\n  } catch (error) {\r\n    console.error('Ошибка при создании задачи:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Получает список всех активных задач\r\n * @returns {Promise<Array>} - Список задач\r\n */\r\nexport const getActiveTasks = async () => {\r\n  try {\r\n    return await executeApiRequest('/tasks');\r\n  } catch (error) {\r\n    console.error('Ошибка при получении списка задач:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * Получает задачу по ID\r\n * @param {number} taskId - ID задачи\r\n * @returns {Promise<Object|null>} - Данные задачи или null\r\n */\r\nexport const getTaskById = async (taskId) => {\r\n  try {\r\n    return await executeApiRequest(`/tasks/${taskId}`);\r\n  } catch (error) {\r\n    console.error('Ошибка при получении задачи:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Назначает задачу пользователю\r\n * @param {number} userId - ID пользователя\r\n * @param {number} taskId - ID задачи\r\n * @returns {Promise<Object>} - Данные о назначении\r\n */\r\nexport const assignTaskToUser = async (userId, taskId) => {\r\n  try {\r\n    return await executeApiRequest('/tasks/assign', 'POST', { userId, taskId });\r\n  } catch (error) {\r\n    console.error('Ошибка при назначении задачи пользователю:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Завершает задачу пользователя и начисляет награду\r\n * @param {number} userId - ID пользователя\r\n * @param {number} taskId - ID задачи\r\n * @returns {Promise<Object>} - Обновленные данные о назначении\r\n */\r\nexport const completeUserTask = async (userId, taskId) => {\r\n  try {\r\n    return await executeApiRequest('/tasks/complete', 'POST', { userId, taskId });\r\n  } catch (error) {\r\n    console.error('Ошибка при завершении задачи пользователя:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Получает список задач пользователя\r\n * @param {number} userId - ID пользователя\r\n * @returns {Promise<Array>} - Список задач пользователя\r\n */\r\nexport const getUserTasks = async (userId) => {\r\n  try {\r\n    const tasks = await executeApiRequest(`/tasks/user/${userId}`);\r\n    return tasks || [];\r\n  } catch (error) {\r\n    console.error('Ошибка при получении списка задач пользователя:', error);\r\n    return []; // Возвращаем пустой массив вместо выброса ошибки\r\n  }\r\n}; "],"mappings":"AAAA,OAASA,iBAAiB,KAAQ,YAAY,CAC9C,OAASC,iBAAiB,KAAQ,eAAe,CAEjD;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAC,UAAU,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC5C,GAAI,CACF,MAAO,MAAM,CAAAH,iBAAiB,CAAC,QAAQ,CAAE,MAAM,CAAEG,QAAQ,CAAC,CAC5D,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAE,cAAc,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,MAAO,MAAM,CAAAN,iBAAiB,CAAC,QAAQ,CAAC,CAC1C,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1D,MAAO,EAAE,CACX,CACF,CAAC,CAED;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAG,WAAW,CAAG,KAAO,CAAAC,MAAM,EAAK,CAC3C,GAAI,CACF,MAAO,MAAM,CAAAR,iBAAiB,WAAAS,MAAA,CAAWD,MAAM,CAAE,CAAC,CACpD,CAAE,MAAOJ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD,MAAO,KAAI,CACb,CACF,CAAC,CAED;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAM,gBAAgB,CAAG,KAAAA,CAAOC,MAAM,CAAEH,MAAM,GAAK,CACxD,GAAI,CACF,MAAO,MAAM,CAAAR,iBAAiB,CAAC,eAAe,CAAE,MAAM,CAAE,CAAEW,MAAM,CAAEH,MAAO,CAAC,CAAC,CAC7E,CAAE,MAAOJ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4CAA4C,CAAEA,KAAK,CAAC,CAClE,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAQ,gBAAgB,CAAG,KAAAA,CAAOD,MAAM,CAAEH,MAAM,GAAK,CACxD,GAAI,CACF,MAAO,MAAM,CAAAR,iBAAiB,CAAC,iBAAiB,CAAE,MAAM,CAAE,CAAEW,MAAM,CAAEH,MAAO,CAAC,CAAC,CAC/E,CAAE,MAAOJ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4CAA4C,CAAEA,KAAK,CAAC,CAClE,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAS,YAAY,CAAG,KAAO,CAAAF,MAAM,EAAK,CAC5C,GAAI,CACF,KAAM,CAAAG,KAAK,CAAG,KAAM,CAAAd,iBAAiB,gBAAAS,MAAA,CAAgBE,MAAM,CAAE,CAAC,CAC9D,MAAO,CAAAG,KAAK,EAAI,EAAE,CACpB,CAAE,MAAOV,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iDAAiD,CAAEA,KAAK,CAAC,CACvE,MAAO,EAAE,CAAE;AACb,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}