{"ast":null,"code":"import _objectSpread from \"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as THREE from \"three\";\nconst version = /* @__PURE__ */(() => parseInt(THREE.REVISION.replace(/\\D+/g, \"\")))();\nconst WebGLMultipleRenderTargets = version >= 162 ? class extends THREE.WebGLRenderTarget {\n  constructor() {\n    let width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    let height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let count = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super(width, height, _objectSpread(_objectSpread({}, options), {}, {\n      count\n    }));\n    this.isWebGLMultipleRenderTargets = true;\n  }\n  get texture() {\n    return this.textures;\n  }\n} : class extends THREE.WebGLRenderTarget {\n  constructor() {\n    let width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    let height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let count = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super(width, height, options);\n    this.isWebGLMultipleRenderTargets = true;\n    const texture = this.texture;\n    this.texture = [];\n    for (let i = 0; i < count; i++) {\n      this.texture[i] = texture.clone();\n      this.texture[i].isRenderTargetTexture = true;\n    }\n  }\n  setSize(width, height) {\n    let depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    if (this.width !== width || this.height !== height || this.depth !== depth) {\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n      for (let i = 0, il = this.texture.length; i < il; i++) {\n        this.texture[i].image.width = width;\n        this.texture[i].image.height = height;\n        this.texture[i].image.depth = depth;\n      }\n      this.dispose();\n    }\n    this.viewport.set(0, 0, width, height);\n    this.scissor.set(0, 0, width, height);\n  }\n  copy(source) {\n    this.dispose();\n    this.width = source.width;\n    this.height = source.height;\n    this.depth = source.depth;\n    this.scissor.copy(source.scissor);\n    this.scissorTest = source.scissorTest;\n    this.viewport.copy(source.viewport);\n    this.depthBuffer = source.depthBuffer;\n    this.stencilBuffer = source.stencilBuffer;\n    if (source.depthTexture !== null) this.depthTexture = source.depthTexture.clone();\n    this.texture.length = 0;\n    for (let i = 0, il = source.texture.length; i < il; i++) {\n      this.texture[i] = source.texture[i].clone();\n      this.texture[i].isRenderTargetTexture = true;\n    }\n    return this;\n  }\n};\nexport { WebGLMultipleRenderTargets };","map":{"version":3,"names":["version","parseInt","THREE","REVISION","replace","WebGLMultipleRenderTargets","WebGLRenderTarget","constructor","width","arguments","length","undefined","height","count","options","_objectSpread","isWebGLMultipleRenderTargets","texture","textures","i","clone","isRenderTargetTexture","setSize","depth","il","image","dispose","viewport","set","scissor","copy","source","scissorTest","depthBuffer","stencilBuffer","depthTexture"],"sources":["/var/www/www-root/data/www/knigavl.ru/node_modules/@react-three/postprocessing/src/compat.js"],"sourcesContent":["import * as THREE from 'three'\n\nconst version = /* @__PURE__ */ (() => parseInt(THREE.REVISION.replace(/\\D+/g, '')))()\n\n// NOTE: WebGLMultipleRenderTargets is removed since r172, so we implement it ourselves.\n// https://github.com/mrdoob/three.js/pull/26427\nexport const WebGLMultipleRenderTargets =\n  version >= 162\n    ? class extends THREE.WebGLRenderTarget {\n        constructor(width = 1, height = 1, count = 1, options = {}) {\n          super(width, height, { ...options, count })\n\n          this.isWebGLMultipleRenderTargets = true\n        }\n\n        get texture() {\n          return this.textures\n        }\n      }\n    : class extends THREE.WebGLRenderTarget {\n        constructor(width = 1, height = 1, count = 1, options = {}) {\n          super(width, height, options)\n\n          this.isWebGLMultipleRenderTargets = true\n\n          const texture = this.texture\n\n          this.texture = []\n\n          for (let i = 0; i < count; i++) {\n            this.texture[i] = texture.clone()\n            this.texture[i].isRenderTargetTexture = true\n          }\n        }\n\n        setSize(width, height, depth = 1) {\n          if (this.width !== width || this.height !== height || this.depth !== depth) {\n            this.width = width\n            this.height = height\n            this.depth = depth\n\n            for (let i = 0, il = this.texture.length; i < il; i++) {\n              this.texture[i].image.width = width\n              this.texture[i].image.height = height\n              this.texture[i].image.depth = depth\n            }\n\n            this.dispose()\n          }\n\n          this.viewport.set(0, 0, width, height)\n          this.scissor.set(0, 0, width, height)\n        }\n\n        copy(source) {\n          this.dispose()\n\n          this.width = source.width\n          this.height = source.height\n          this.depth = source.depth\n\n          this.scissor.copy(source.scissor)\n          this.scissorTest = source.scissorTest\n\n          this.viewport.copy(source.viewport)\n\n          this.depthBuffer = source.depthBuffer\n          this.stencilBuffer = source.stencilBuffer\n\n          if (source.depthTexture !== null) this.depthTexture = source.depthTexture.clone()\n\n          this.texture.length = 0\n\n          for (let i = 0, il = source.texture.length; i < il; i++) {\n            this.texture[i] = source.texture[i].clone()\n            this.texture[i].isRenderTargetTexture = true\n          }\n\n          return this\n        }\n      }\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}