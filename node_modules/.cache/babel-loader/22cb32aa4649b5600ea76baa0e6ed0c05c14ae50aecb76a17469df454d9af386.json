{"ast":null,"code":"import _objectSpread from \"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"textureSrc\", \"texture\", \"opacity\"];\nimport { jsx } from \"react/jsx-runtime\";\nimport { TextureEffect } from \"postprocessing\";\nimport { forwardRef, useLayoutEffect, useMemo } from \"react\";\nimport { useLoader } from \"@react-three/fiber\";\nimport { TextureLoader, RepeatWrapping } from \"three\";\nconst Texture = forwardRef(function Texture2(_ref, ref) {\n  let {\n      textureSrc,\n      texture,\n      opacity = 1\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const t = useLoader(TextureLoader, textureSrc);\n  useLayoutEffect(() => {\n    if (\"encoding\" in t) t.encoding = 3001;else t.colorSpace = \"srgb\";\n    t.wrapS = t.wrapT = RepeatWrapping;\n  }, [t]);\n  const effect = useMemo(() => new TextureEffect(_objectSpread(_objectSpread({}, props), {}, {\n    texture: t || texture\n  })), [props, t, texture]);\n  return /* @__PURE__ */jsx(\"primitive\", {\n    ref,\n    object: effect,\n    \"blendMode-opacity-value\": opacity,\n    dispose: null\n  });\n});\nexport { Texture };","map":{"version":3,"names":["Texture","forwardRef","Texture2","_ref","ref","textureSrc","texture","opacity","props","_objectWithoutProperties","_excluded","t","useLoader","TextureLoader","useLayoutEffect","encoding","colorSpace","wrapS","wrapT","RepeatWrapping","effect","useMemo","TextureEffect","_objectSpread","jsx","object","dispose"],"sources":["/var/www/www-root/data/www/knigavl.ru/node_modules/@react-three/postprocessing/src/effects/Texture.tsx"],"sourcesContent":["import { TextureEffect } from 'postprocessing'\nimport { Ref, forwardRef, useMemo, useLayoutEffect } from 'react'\nimport { useLoader } from '@react-three/fiber'\nimport { TextureLoader, RepeatWrapping } from 'three'\n\ntype TextureProps = ConstructorParameters<typeof TextureEffect>[0] & {\n  textureSrc: string\n  /** opacity of provided texture */\n  opacity?: number\n}\n\nexport const Texture = forwardRef<TextureEffect, TextureProps>(function Texture(\n  { textureSrc, texture, opacity = 1, ...props }: TextureProps,\n  ref: Ref<TextureEffect>\n) {\n  const t = useLoader(TextureLoader, textureSrc)\n  useLayoutEffect(() => {\n    // @ts-ignore\n    if ('encoding' in t) t.encoding = 3001 // sRGBEncoding\n    // @ts-ignore\n    else t.colorSpace = 'srgb'\n    t.wrapS = t.wrapT = RepeatWrapping\n  }, [t])\n  const effect = useMemo(() => new TextureEffect({ ...props, texture: t || texture }), [props, t, texture])\n  return <primitive ref={ref} object={effect} blendMode-opacity-value={opacity} dispose={null} />\n})\n"],"mappings":";;;;;;;;AAWO,MAAMA,OAAA,GAAUC,UAAA,CAAwC,SAASC,SAAAC,IAAA,EAEtEC,GAAA,EACA;EAAA,IAFA;MAAEC,UAAA;MAAYC,OAAA;MAASC,OAAA,GAAU;IAAY,IAAAJ,IAAA;IAANK,KAAA,GAAAC,wBAAA,CAAAN,IAAA,EAAAO,SAAA;EAGjC,MAAAC,CAAA,GAAIC,SAAA,CAAUC,aAAA,EAAeR,UAAU;EAC7CS,eAAA,CAAgB,MAAM;IAEpB,IAAI,cAAcH,CAAA,EAAGA,CAAA,CAAEI,QAAA,GAAW,UAE7BJ,CAAA,CAAEK,UAAA,GAAa;IAClBL,CAAA,CAAAM,KAAA,GAAQN,CAAA,CAAEO,KAAA,GAAQC,cAAA;EAAA,GACnB,CAACR,CAAC,CAAC;EACN,MAAMS,MAAA,GAASC,OAAA,CAAQ,MAAM,IAAIC,aAAA,CAAAC,aAAA,CAAAA,aAAA,KAAmBf,KAAA;IAAOF,OAAA,EAASK,CAAA,IAAKL;EAAA,EAAS,GAAG,CAACE,KAAA,EAAOG,CAAA,EAAGL,OAAO,CAAC;EACjG,sBAAAkB,GAAA,CAAC;IAAUpB,GAAA;IAAUqB,MAAA,EAAQL,MAAA;IAAQ,2BAAyBb,OAAA;IAASmB,OAAA,EAAS;EAAM;AAC/F,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}