{"ast":null,"code":"import React,{useRef,useMemo,useEffect}from'react';import{useFrame}from'@react-three/fiber';import{useGLTF,Sparkles,useTexture}from'@react-three/drei';import*as THREE from'three';import{createNoise3D}from'simplex-noise';import'./MysticalForest.css';// Цветовая палитра из требований\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLOR_PALETTE={darkPurple:'#3C2F4F',// Тёмно-фиолетовый — основной фон\nbeigeParchment:'#E8D3A9',// Бежево-пергаментный — текст, акценты\ndarkTurquoise:'#1A3C34',// Тёмный бирюзовый — светлячки, свечение\ninkyBlue:'#1B263B',// Чернильный синий — тени, контуры\nmoonBlue:'#A8C7FA'// Голубоватый оттенок луны\n};// Компонент дерева\nconst Tree=_ref=>{let{position,scale=[1,1,1],rotation=[0,0,0]}=_ref;const treeRef=useRef();// Создаем простую геометрию дерева (в реальном проекте здесь можно использовать модель)\nconst treeGeometry=useMemo(()=>{// Ствол\nconst trunkGeometry=new THREE.CylinderGeometry(0.2,0.3,2,8);trunkGeometry.translate(0,1,0);// Крона\nconst crownGeometry=new THREE.ConeGeometry(1,2.5,8);crownGeometry.translate(0,3,0);// Объединяем геометрии\nconst combinedGeometry=new THREE.BufferGeometry();// Получаем атрибуты геометрий\nconst trunkPositions=trunkGeometry.attributes.position.array;const crownPositions=crownGeometry.attributes.position.array;// Создаем новый буфер для объединенных позиций\nconst positions=new Float32Array(trunkPositions.length+crownPositions.length);// Копируем данные из обеих геометрий\npositions.set(trunkPositions,0);positions.set(crownPositions,trunkPositions.length);// Устанавливаем атрибут позиции\ncombinedGeometry.setAttribute('position',new THREE.BufferAttribute(positions,3));return combinedGeometry;},[]);// Материалы для дерева\nconst trunkMaterial=new THREE.MeshStandardMaterial({color:'#4B3621',roughness:0.8});const crownMaterial=new THREE.MeshStandardMaterial({color:COLOR_PALETTE.darkTurquoise,roughness:0.7});// Анимация легкого покачивания\nuseFrame(state=>{if(treeRef.current){treeRef.current.rotation.y=Math.sin(state.clock.getElapsedTime()*0.1)*0.02+rotation[1];treeRef.current.rotation.z=Math.sin(state.clock.getElapsedTime()*0.05)*0.01+rotation[2];}});return/*#__PURE__*/_jsxs(\"group\",{ref:treeRef,position:position,scale:scale,children:[/*#__PURE__*/_jsxs(\"mesh\",{material:trunkMaterial,children:[/*#__PURE__*/_jsx(\"cylinderGeometry\",{args:[0.2,0.3,2,8]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{color:\"#4B3621\",roughness:0.8})]}),/*#__PURE__*/_jsxs(\"mesh\",{position:[0,2.25,0],material:crownMaterial,children:[/*#__PURE__*/_jsx(\"coneGeometry\",{args:[1,2.5,8]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{color:COLOR_PALETTE.darkTurquoise,roughness:0.7})]})]});};// Компонент силуэта гнома/криптида\nconst Cryptid=_ref2=>{let{position,speed=0.5}=_ref2;const cryptidRef=useRef();const startPosition=useRef(position);const noise=useMemo(()=>createNoise3D(),[]);// Создаем силуэт\nconst silhouette=useMemo(()=>{const shape=new THREE.Shape();// Рисуем силуэт гнома\nshape.moveTo(0,0);shape.lineTo(0.3,0);shape.lineTo(0.3,0.7);shape.lineTo(0.5,1.0);// Шапка\nshape.lineTo(0.2,1.2);// Верх шапки\nshape.lineTo(-0.1,1.0);// Другая сторона шапки\nshape.lineTo(0,0.7);shape.lineTo(0,0);const geometry=new THREE.ShapeGeometry(shape);return geometry;},[]);// Анимация движения\nuseFrame(state=>{if(cryptidRef.current){// Используем шум для создания случайного движения\nconst time=state.clock.getElapsedTime();const x=startPosition.current[0]+noise(time*0.1,0,0)*2;const z=startPosition.current[2]+noise(0,time*0.1,0)*2;// Обновляем позицию\ncryptidRef.current.position.x=x;cryptidRef.current.position.z=z;// Поворачиваем в направлении движения\nconst angle=Math.atan2(cryptidRef.current.position.z-cryptidRef.current.position.z,cryptidRef.current.position.x-cryptidRef.current.position.x);cryptidRef.current.rotation.y=angle;// Делаем силуэт более прозрачным в зависимости от расстояния от камеры\nconst distance=Math.sqrt(x*x+z*z);cryptidRef.current.material.opacity=Math.max(0.1,1-distance/15);}});return/*#__PURE__*/_jsxs(\"mesh\",{ref:cryptidRef,position:position,rotation:[0,Math.random()*Math.PI*2,0],children:[/*#__PURE__*/_jsx(\"shapeGeometry\",{args:[silhouette]}),/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:COLOR_PALETTE.inkyBlue,transparent:true,opacity:0.7,side:THREE.DoubleSide})]});};// Компонент светлячка/духа\nconst Firefly=_ref3=>{let{position,color=COLOR_PALETTE.darkTurquoise,size=0.1}=_ref3;const fireflyRef=useRef();const startPosition=useRef(position);const noise=useMemo(()=>createNoise3D(),[]);// Анимация светлячка\nuseFrame(state=>{if(fireflyRef.current){const time=state.clock.getElapsedTime();// Используем шум для создания органичного движения\nconst x=startPosition.current[0]+noise(time*0.5,0,0)*1.5;const y=startPosition.current[1]+noise(0,time*0.5,0)*1;const z=startPosition.current[2]+noise(0,0,time*0.5)*1.5;// Обновляем позицию\nfireflyRef.current.position.set(x,y,z);// Пульсирующее свечение\nconst pulse=(Math.sin(time*3)+1)*0.5;fireflyRef.current.material.opacity=0.5+pulse*0.5;fireflyRef.current.scale.setScalar(size*(0.8+pulse*0.4));}});return/*#__PURE__*/_jsxs(\"mesh\",{ref:fireflyRef,position:position,children:[/*#__PURE__*/_jsx(\"sphereGeometry\",{args:[size,8,8]}),/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:color,transparent:true,opacity:0.8})]});};// Основной компонент мистического леса\nconst MysticalForest=_ref4=>{let{count=30,cryptidCount=5,fireflyCount=20}=_ref4;// Генерируем случайные позиции для деревьев\nconst trees=useMemo(()=>{const positions=[];for(let i=0;i<count;i++){const x=(Math.random()-0.5)*40;const z=(Math.random()-0.5)*40;const scale=0.5+Math.random()*1.5;const rotation=[0,Math.random()*Math.PI*2,0];positions.push({position:[x,0,z],scale:[scale,scale,scale],rotation});}return positions;},[count]);// Генерируем позиции для криптидов\nconst cryptids=useMemo(()=>{const positions=[];for(let i=0;i<cryptidCount;i++){const x=(Math.random()-0.5)*30;const z=(Math.random()-0.5)*30;const y=0.5;// Немного над землей\npositions.push([x,y,z]);}return positions;},[cryptidCount]);// Генерируем позиции для светлячков\nconst fireflies=useMemo(()=>{const positions=[];for(let i=0;i<fireflyCount;i++){const x=(Math.random()-0.5)*30;const y=1+Math.random()*5;// От 1 до 6 единиц над землей\nconst z=(Math.random()-0.5)*30;const color=i%3===0?COLOR_PALETTE.moonBlue:COLOR_PALETTE.darkTurquoise;const size=0.05+Math.random()*0.15;positions.push({position:[x,y,z],color,size});}return positions;},[fireflyCount]);// Создаем землю\nconst groundRef=useRef();return/*#__PURE__*/_jsxs(\"group\",{children:[/*#__PURE__*/_jsxs(\"mesh\",{ref:groundRef,rotation:[-Math.PI/2,0,0],position:[0,-0.1,0],children:[/*#__PURE__*/_jsx(\"planeGeometry\",{args:[100,100,32,32]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{color:COLOR_PALETTE.darkPurple,roughness:0.9,metalness:0.1})]}),trees.map((tree,index)=>/*#__PURE__*/_jsx(Tree,{position:tree.position,scale:tree.scale,rotation:tree.rotation},\"tree-\".concat(index))),cryptids.map((position,index)=>/*#__PURE__*/_jsx(Cryptid,{position:position,speed:0.2+Math.random()*0.3},\"cryptid-\".concat(index))),fireflies.map((firefly,index)=>/*#__PURE__*/_jsx(Firefly,{position:firefly.position,color:firefly.color,size:firefly.size},\"firefly-\".concat(index))),/*#__PURE__*/_jsx(Sparkles,{count:200,scale:[30,10,30],size:0.5,speed:0.2,color:COLOR_PALETTE.moonBlue,opacity:0.3})]});};export default MysticalForest;","map":{"version":3,"names":["React","useRef","useMemo","useEffect","useFrame","useGLTF","Sparkles","useTexture","THREE","createNoise3D","jsx","_jsx","jsxs","_jsxs","COLOR_PALETTE","darkPurple","beigeParchment","darkTurquoise","inkyBlue","moonBlue","Tree","_ref","position","scale","rotation","treeRef","treeGeometry","trunkGeometry","CylinderGeometry","translate","crownGeometry","ConeGeometry","combinedGeometry","BufferGeometry","trunkPositions","attributes","array","crownPositions","positions","Float32Array","length","set","setAttribute","BufferAttribute","trunkMaterial","MeshStandardMaterial","color","roughness","crownMaterial","state","current","y","Math","sin","clock","getElapsedTime","z","ref","children","material","args","Cryptid","_ref2","speed","cryptidRef","startPosition","noise","silhouette","shape","Shape","moveTo","lineTo","geometry","ShapeGeometry","time","x","angle","atan2","distance","sqrt","opacity","max","random","PI","transparent","side","DoubleSide","Firefly","_ref3","size","fireflyRef","pulse","setScalar","MysticalForest","_ref4","count","cryptidCount","fireflyCount","trees","i","push","cryptids","fireflies","groundRef","metalness","map","tree","index","concat","firefly"],"sources":["/var/www/www-root/data/www/knigavl.ru/src/components/MysticalForest.js"],"sourcesContent":["import React, { useRef, useMemo, useEffect } from 'react';\r\nimport { useFrame } from '@react-three/fiber';\r\nimport { useGLTF, Sparkles, useTexture } from '@react-three/drei';\r\nimport * as THREE from 'three';\r\nimport { createNoise3D } from 'simplex-noise';\r\nimport './MysticalForest.css';\r\n\r\n// Цветовая палитра из требований\r\nconst COLOR_PALETTE = {\r\n  darkPurple: '#3C2F4F',    // Тёмно-фиолетовый — основной фон\r\n  beigeParchment: '#E8D3A9', // Бежево-пергаментный — текст, акценты\r\n  darkTurquoise: '#1A3C34',  // Тёмный бирюзовый — светлячки, свечение\r\n  inkyBlue: '#1B263B',       // Чернильный синий — тени, контуры\r\n  moonBlue: '#A8C7FA',       // Голубоватый оттенок луны\r\n};\r\n\r\n// Компонент дерева\r\nconst Tree = ({ position, scale = [1, 1, 1], rotation = [0, 0, 0] }) => {\r\n  const treeRef = useRef();\r\n  \r\n  // Создаем простую геометрию дерева (в реальном проекте здесь можно использовать модель)\r\n  const treeGeometry = useMemo(() => {\r\n    // Ствол\r\n    const trunkGeometry = new THREE.CylinderGeometry(0.2, 0.3, 2, 8);\r\n    trunkGeometry.translate(0, 1, 0);\r\n    \r\n    // Крона\r\n    const crownGeometry = new THREE.ConeGeometry(1, 2.5, 8);\r\n    crownGeometry.translate(0, 3, 0);\r\n    \r\n    // Объединяем геометрии\r\n    const combinedGeometry = new THREE.BufferGeometry();\r\n    \r\n    // Получаем атрибуты геометрий\r\n    const trunkPositions = trunkGeometry.attributes.position.array;\r\n    const crownPositions = crownGeometry.attributes.position.array;\r\n    \r\n    // Создаем новый буфер для объединенных позиций\r\n    const positions = new Float32Array(trunkPositions.length + crownPositions.length);\r\n    \r\n    // Копируем данные из обеих геометрий\r\n    positions.set(trunkPositions, 0);\r\n    positions.set(crownPositions, trunkPositions.length);\r\n    \r\n    // Устанавливаем атрибут позиции\r\n    combinedGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\r\n    \r\n    return combinedGeometry;\r\n  }, []);\r\n  \r\n  // Материалы для дерева\r\n  const trunkMaterial = new THREE.MeshStandardMaterial({ \r\n    color: '#4B3621', \r\n    roughness: 0.8 \r\n  });\r\n  \r\n  const crownMaterial = new THREE.MeshStandardMaterial({ \r\n    color: COLOR_PALETTE.darkTurquoise, \r\n    roughness: 0.7 \r\n  });\r\n  \r\n  // Анимация легкого покачивания\r\n  useFrame((state) => {\r\n    if (treeRef.current) {\r\n      treeRef.current.rotation.y = Math.sin(state.clock.getElapsedTime() * 0.1) * 0.02 + rotation[1];\r\n      treeRef.current.rotation.z = Math.sin(state.clock.getElapsedTime() * 0.05) * 0.01 + rotation[2];\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <group ref={treeRef} position={position} scale={scale}>\r\n      {/* Ствол */}\r\n      <mesh material={trunkMaterial}>\r\n        <cylinderGeometry args={[0.2, 0.3, 2, 8]} />\r\n        <meshStandardMaterial color=\"#4B3621\" roughness={0.8} />\r\n      </mesh>\r\n      \r\n      {/* Крона */}\r\n      <mesh position={[0, 2.25, 0]} material={crownMaterial}>\r\n        <coneGeometry args={[1, 2.5, 8]} />\r\n        <meshStandardMaterial color={COLOR_PALETTE.darkTurquoise} roughness={0.7} />\r\n      </mesh>\r\n    </group>\r\n  );\r\n};\r\n\r\n// Компонент силуэта гнома/криптида\r\nconst Cryptid = ({ position, speed = 0.5 }) => {\r\n  const cryptidRef = useRef();\r\n  const startPosition = useRef(position);\r\n  const noise = useMemo(() => createNoise3D(), []);\r\n  \r\n  // Создаем силуэт\r\n  const silhouette = useMemo(() => {\r\n    const shape = new THREE.Shape();\r\n    \r\n    // Рисуем силуэт гнома\r\n    shape.moveTo(0, 0);\r\n    shape.lineTo(0.3, 0);\r\n    shape.lineTo(0.3, 0.7);\r\n    shape.lineTo(0.5, 1.0); // Шапка\r\n    shape.lineTo(0.2, 1.2); // Верх шапки\r\n    shape.lineTo(-0.1, 1.0); // Другая сторона шапки\r\n    shape.lineTo(0, 0.7);\r\n    shape.lineTo(0, 0);\r\n    \r\n    const geometry = new THREE.ShapeGeometry(shape);\r\n    return geometry;\r\n  }, []);\r\n  \r\n  // Анимация движения\r\n  useFrame((state) => {\r\n    if (cryptidRef.current) {\r\n      // Используем шум для создания случайного движения\r\n      const time = state.clock.getElapsedTime();\r\n      const x = startPosition.current[0] + noise(time * 0.1, 0, 0) * 2;\r\n      const z = startPosition.current[2] + noise(0, time * 0.1, 0) * 2;\r\n      \r\n      // Обновляем позицию\r\n      cryptidRef.current.position.x = x;\r\n      cryptidRef.current.position.z = z;\r\n      \r\n      // Поворачиваем в направлении движения\r\n      const angle = Math.atan2(\r\n        cryptidRef.current.position.z - cryptidRef.current.position.z,\r\n        cryptidRef.current.position.x - cryptidRef.current.position.x\r\n      );\r\n      cryptidRef.current.rotation.y = angle;\r\n      \r\n      // Делаем силуэт более прозрачным в зависимости от расстояния от камеры\r\n      const distance = Math.sqrt(x * x + z * z);\r\n      cryptidRef.current.material.opacity = Math.max(0.1, 1 - distance / 15);\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <mesh \r\n      ref={cryptidRef} \r\n      position={position} \r\n      rotation={[0, Math.random() * Math.PI * 2, 0]}\r\n    >\r\n      <shapeGeometry args={[silhouette]} />\r\n      <meshBasicMaterial \r\n        color={COLOR_PALETTE.inkyBlue} \r\n        transparent={true} \r\n        opacity={0.7} \r\n        side={THREE.DoubleSide}\r\n      />\r\n    </mesh>\r\n  );\r\n};\r\n\r\n// Компонент светлячка/духа\r\nconst Firefly = ({ position, color = COLOR_PALETTE.darkTurquoise, size = 0.1 }) => {\r\n  const fireflyRef = useRef();\r\n  const startPosition = useRef(position);\r\n  const noise = useMemo(() => createNoise3D(), []);\r\n  \r\n  // Анимация светлячка\r\n  useFrame((state) => {\r\n    if (fireflyRef.current) {\r\n      const time = state.clock.getElapsedTime();\r\n      \r\n      // Используем шум для создания органичного движения\r\n      const x = startPosition.current[0] + noise(time * 0.5, 0, 0) * 1.5;\r\n      const y = startPosition.current[1] + noise(0, time * 0.5, 0) * 1;\r\n      const z = startPosition.current[2] + noise(0, 0, time * 0.5) * 1.5;\r\n      \r\n      // Обновляем позицию\r\n      fireflyRef.current.position.set(x, y, z);\r\n      \r\n      // Пульсирующее свечение\r\n      const pulse = (Math.sin(time * 3) + 1) * 0.5;\r\n      fireflyRef.current.material.opacity = 0.5 + pulse * 0.5;\r\n      fireflyRef.current.scale.setScalar(size * (0.8 + pulse * 0.4));\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <mesh ref={fireflyRef} position={position}>\r\n      <sphereGeometry args={[size, 8, 8]} />\r\n      <meshBasicMaterial \r\n        color={color} \r\n        transparent={true} \r\n        opacity={0.8}\r\n      />\r\n    </mesh>\r\n  );\r\n};\r\n\r\n// Основной компонент мистического леса\r\nconst MysticalForest = ({ count = 30, cryptidCount = 5, fireflyCount = 20 }) => {\r\n  // Генерируем случайные позиции для деревьев\r\n  const trees = useMemo(() => {\r\n    const positions = [];\r\n    for (let i = 0; i < count; i++) {\r\n      const x = (Math.random() - 0.5) * 40;\r\n      const z = (Math.random() - 0.5) * 40;\r\n      const scale = 0.5 + Math.random() * 1.5;\r\n      const rotation = [0, Math.random() * Math.PI * 2, 0];\r\n      positions.push({ position: [x, 0, z], scale: [scale, scale, scale], rotation });\r\n    }\r\n    return positions;\r\n  }, [count]);\r\n  \r\n  // Генерируем позиции для криптидов\r\n  const cryptids = useMemo(() => {\r\n    const positions = [];\r\n    for (let i = 0; i < cryptidCount; i++) {\r\n      const x = (Math.random() - 0.5) * 30;\r\n      const z = (Math.random() - 0.5) * 30;\r\n      const y = 0.5; // Немного над землей\r\n      positions.push([x, y, z]);\r\n    }\r\n    return positions;\r\n  }, [cryptidCount]);\r\n  \r\n  // Генерируем позиции для светлячков\r\n  const fireflies = useMemo(() => {\r\n    const positions = [];\r\n    for (let i = 0; i < fireflyCount; i++) {\r\n      const x = (Math.random() - 0.5) * 30;\r\n      const y = 1 + Math.random() * 5; // От 1 до 6 единиц над землей\r\n      const z = (Math.random() - 0.5) * 30;\r\n      const color = i % 3 === 0 ? COLOR_PALETTE.moonBlue : COLOR_PALETTE.darkTurquoise;\r\n      const size = 0.05 + Math.random() * 0.15;\r\n      positions.push({ position: [x, y, z], color, size });\r\n    }\r\n    return positions;\r\n  }, [fireflyCount]);\r\n  \r\n  // Создаем землю\r\n  const groundRef = useRef();\r\n  \r\n  return (\r\n    <group>\r\n      {/* Земля */}\r\n      <mesh \r\n        ref={groundRef} \r\n        rotation={[-Math.PI / 2, 0, 0]} \r\n        position={[0, -0.1, 0]}\r\n      >\r\n        <planeGeometry args={[100, 100, 32, 32]} />\r\n        <meshStandardMaterial \r\n          color={COLOR_PALETTE.darkPurple} \r\n          roughness={0.9} \r\n          metalness={0.1}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Деревья */}\r\n      {trees.map((tree, index) => (\r\n        <Tree \r\n          key={`tree-${index}`} \r\n          position={tree.position} \r\n          scale={tree.scale} \r\n          rotation={tree.rotation}\r\n        />\r\n      ))}\r\n      \r\n      {/* Криптиды */}\r\n      {cryptids.map((position, index) => (\r\n        <Cryptid \r\n          key={`cryptid-${index}`} \r\n          position={position} \r\n          speed={0.2 + Math.random() * 0.3}\r\n        />\r\n      ))}\r\n      \r\n      {/* Светлячки */}\r\n      {fireflies.map((firefly, index) => (\r\n        <Firefly \r\n          key={`firefly-${index}`} \r\n          position={firefly.position} \r\n          color={firefly.color}\r\n          size={firefly.size}\r\n        />\r\n      ))}\r\n      \r\n      {/* Добавляем эффект искр/частиц для атмосферы */}\r\n      <Sparkles \r\n        count={200} \r\n        scale={[30, 10, 30]} \r\n        size={0.5} \r\n        speed={0.2} \r\n        color={COLOR_PALETTE.moonBlue}\r\n        opacity={0.3}\r\n      />\r\n    </group>\r\n  );\r\n};\r\n\r\nexport default MysticalForest; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}