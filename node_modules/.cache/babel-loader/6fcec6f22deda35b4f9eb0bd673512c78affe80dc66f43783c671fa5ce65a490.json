{"ast":null,"code":"import _objectWithoutProperties from \"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"lut\", \"tetrahedralInterpolation\"];\nimport { jsx } from \"react/jsx-runtime\";\nimport { useThree } from \"@react-three/fiber\";\nimport { LUT3DEffect } from \"postprocessing\";\nimport { forwardRef, useMemo, useLayoutEffect } from \"react\";\nconst LUT = forwardRef(function LUT2(_ref, ref) {\n  let {\n      lut,\n      tetrahedralInterpolation\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const effect = useMemo(() => new LUT3DEffect(lut, props), [lut, props]);\n  const invalidate = useThree(state => state.invalidate);\n  useLayoutEffect(() => {\n    if (tetrahedralInterpolation) effect.tetrahedralInterpolation = tetrahedralInterpolation;\n    if (lut) effect.lut = lut;\n    invalidate();\n  }, [effect, invalidate, lut, tetrahedralInterpolation]);\n  return /* @__PURE__ */jsx(\"primitive\", {\n    ref,\n    object: effect,\n    dispose: null\n  });\n});\nexport { LUT };","map":{"version":3,"names":["LUT","forwardRef","LUT2","_ref","ref","lut","tetrahedralInterpolation","props","_objectWithoutProperties","_excluded","effect","useMemo","LUT3DEffect","invalidate","useThree","state","useLayoutEffect","jsx","object","dispose"],"sources":["/var/www/www-root/data/www/knigavl.ru/node_modules/@react-three/postprocessing/src/effects/LUT.tsx"],"sourcesContent":["import { useThree } from '@react-three/fiber'\nimport { LUT3DEffect, BlendFunction } from 'postprocessing'\nimport React, { forwardRef, Ref, useLayoutEffect, useMemo } from 'react'\nimport type { Texture } from 'three'\n\nexport type LUTProps = {\n  lut: Texture\n  blendFunction?: BlendFunction\n  tetrahedralInterpolation?: boolean\n}\n\nexport const LUT = forwardRef(function LUT(\n  { lut, tetrahedralInterpolation, ...props }: LUTProps,\n  ref: Ref<LUT3DEffect>\n) {\n  const effect = useMemo(() => new LUT3DEffect(lut, props), [lut, props])\n  const invalidate = useThree((state) => state.invalidate)\n\n  useLayoutEffect(() => {\n    if (tetrahedralInterpolation) effect.tetrahedralInterpolation = tetrahedralInterpolation\n    if (lut) effect.lut = lut\n    invalidate()\n  }, [effect, invalidate, lut, tetrahedralInterpolation])\n\n  return <primitive ref={ref} object={effect} dispose={null} />\n})\n"],"mappings":";;;;;;AAWa,MAAAA,GAAA,GAAMC,UAAA,CAAW,SAASC,KAAAC,IAAA,EAErCC,GAAA,EACA;EAAA,IAFA;MAAEC,GAAA;MAAKC;IAAmC,IAAAH,IAAA;IAANI,KAAA,GAAAC,wBAAA,CAAAL,IAAA,EAAAM,SAAA;EAG9B,MAAAC,MAAA,GAASC,OAAA,CAAQ,MAAM,IAAIC,WAAA,CAAYP,GAAA,EAAKE,KAAK,GAAG,CAACF,GAAA,EAAKE,KAAK,CAAC;EACtE,MAAMM,UAAA,GAAaC,QAAA,CAAUC,KAAA,IAAUA,KAAA,CAAMF,UAAU;EAEvDG,eAAA,CAAgB,MAAM;IAChB,IAAAV,wBAAA,EAA0BI,MAAA,CAAOJ,wBAAA,GAA2BA,wBAAA;IAC5D,IAAAD,GAAA,EAAKK,MAAA,CAAOL,GAAA,GAAMA,GAAA;IACXQ,UAAA;KACV,CAACH,MAAA,EAAQG,UAAA,EAAYR,GAAA,EAAKC,wBAAwB,CAAC;EAEtD,sBAAAW,GAAA,CAAQ,aAAU;IAAAb,GAAA;IAAUc,MAAA,EAAQR,MAAA;IAAQS,OAAA,EAAS;EAAM;AAC7D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}