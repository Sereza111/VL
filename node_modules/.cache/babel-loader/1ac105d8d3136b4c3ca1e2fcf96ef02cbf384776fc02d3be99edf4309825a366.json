{"ast":null,"code":"// src/screens/FriendsScreen.js - –ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è\nimport React,{useState,useEffect,useRef,useMemo,useCallback}from'react';import{FaUserPlus,FaCopy,FaCheck,FaUserFriends,FaGift,FaUserClock,FaStar,FaCoins,FaPercent,FaTimesCircle,FaNetworkWired,FaMoon,FaScroll,FaFeatherAlt}from'react-icons/fa';import anime from'animejs/lib/anime.js';import'./FriendsScreen.css';// –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLOR_PALETTE={darkPurple:'#3C2F4F',// –¢—ë–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω\nbeigeParchment:'#E8D3A9',// –ë–µ–∂–µ–≤–æ-–ø–µ—Ä–≥–∞–º–µ–Ω—Ç–Ω—ã–π ‚Äî —Ç–µ–∫—Å—Ç, –∞–∫—Ü–µ–Ω—Ç—ã\ndarkTurquoise:'#1A3C34',// –¢—ë–º–Ω—ã–π –±–∏—Ä—é–∑–æ–≤—ã–π ‚Äî —Å–≤–µ—Ç–ª—è—á–∫–∏, —Å–≤–µ—á–µ–Ω–∏–µ\ninkyBlue:'#1B263B',// –ß–µ—Ä–Ω–∏–ª—å–Ω—ã–π —Å–∏–Ω–∏–π ‚Äî —Ç–µ–Ω–∏, –∫–æ–Ω—Ç—É—Ä—ã\nmoonBlue:'#A8C7FA'// –ì–æ–ª—É–±–æ–≤–∞—Ç—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ –ª—É–Ω—ã\n};const FriendsScreen=_ref=>{let{userData,friends=[],friendRequests=[],onSendRequest,onAcceptRequest,onRejectRequest,onLoadFriends,maxFriends=20}=_ref;const[friendId,setFriendId]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const[copied,setCopied]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[filteredFriends,setFilteredFriends]=useState(friends);const[loadingFriends,setLoadingFriends]=useState(false);const[isProcessing,setIsProcessing]=useState(false);const[activeTab,setActiveTab]=useState('summon');// 'summon', 'requests', 'allies'\nconst[showReferralDetails,setShowReferralDetails]=useState(false);// Refs –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π\nconst containerRef=useRef(null);const particlesRef=useRef([]);const tarotCardsRef=useRef([]);const didLoadRef=useRef(false);const animationFrameIdRef=useRef(null);// –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\nuseEffect(()=>{if(onLoadFriends&&!didLoadRef.current){setLoadingFriends(true);Promise.resolve(onLoadFriends()).finally(()=>{setLoadingFriends(false);});didLoadRef.current=true;}},[onLoadFriends]);// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –¥—Ä—É–∑—å—è—Ö\nconst handleRefresh=()=>{if(onLoadFriends){setIsProcessing(true);setLoadingFriends(true);Promise.resolve(onLoadFriends()).catch(()=>{}).finally(()=>{setIsProcessing(false);setLoadingFriends(false);});}};// –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π\nuseEffect(()=>{setFilteredFriends(friends);},[friends]);// –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è\nconst referralLink=useMemo(()=>\"https://t.me/VLTOKEN_BOT?start=ref_\".concat(userData===null||userData===void 0?void 0:userData.userId),[userData===null||userData===void 0?void 0:userData.userId]);// –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Å—Ç–∏—Ü - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω\nuseEffect(()=>{if(!containerRef.current)return;// –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã\nconst createParticles=()=>{const container=containerRef.current;if(!container)return;const particles=[];// –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —á–∞—Å—Ç–∏—Ü—ã\nparticlesRef.current.forEach(particle=>{if(particle.parentNode){particle.parentNode.removeChild(particle);}});// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã - —É–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å 30 –¥–æ 12\nfor(let i=0;i<12;i++){const particle=document.createElement('div');particle.className='mystical-particle';// –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ –ø–æ–∑–∏—Ü–∏—è\nconst size=2+Math.random()*6;const posX=Math.random()*100;const posY=Math.random()*100;const delay=Math.random()*5;const duration=15+Math.random()*15;const color=Math.random()>0.5?COLOR_PALETTE.beigeParchment:COLOR_PALETTE.moonBlue;// –°—Ç–∏–ª–∏ —á–∞—Å—Ç–∏—Ü—ã\nObject.assign(particle.style,{position:'absolute',width:\"\".concat(size,\"px\"),height:\"\".concat(size,\"px\"),borderRadius:'50%',backgroundColor:color,opacity:0,top:\"\".concat(posY,\"%\"),left:\"\".concat(posX,\"%\"),boxShadow:\"0 0 \".concat(size*2,\"px \").concat(color),zIndex:-1,pointerEvents:'none'});// –î–æ–±–∞–≤–ª—è–µ–º —á–∞—Å—Ç–∏—Ü—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä\ncontainer.appendChild(particle);particles.push(particle);// –ê–Ω–∏–º–∏—Ä—É–µ–º —á–∞—Å—Ç–∏—Ü—É —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏\nanime({targets:particle,opacity:[0,0.3,0],translateY:[0,-100],translateX:()=>[0,(Math.random()-0.5)*50],scale:[1,0.5,0],easing:'easeInOutQuad',duration:duration*1000,delay:delay*1000,loop:true});}particlesRef.current=particles;};createParticles();// –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\nreturn()=>{if(animationFrameIdRef.current){cancelAnimationFrame(animationFrameIdRef.current);}particlesRef.current.forEach(particle=>{if(particle.parentNode){particle.parentNode.removeChild(particle);}});};},[]);// –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫ - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω\nuseEffect(()=>{const tabContent=document.querySelector(\".tab-content[data-tab=\\\"\".concat(activeTab,\"\\\"]\"));if(tabContent){if(animationFrameIdRef.current){cancelAnimationFrame(animationFrameIdRef.current);}animationFrameIdRef.current=requestAnimationFrame(()=>{anime({targets:tabContent,opacity:[0,1],translateY:[20,0],easing:'easeOutQuad',duration:400});});}},[activeTab]);// Enhanced clipboard interaction with mystical feedback\nconst copyToClipboard=useCallback(async()=>{try{await navigator.clipboard.writeText(referralLink);setCopied(true);// Mystical vibration effect\nif('vibrate'in navigator){navigator.vibrate([50,30,50]);}// –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è\nconst copyButton=document.querySelector('.copy-button');if(copyButton){anime({targets:copyButton,scale:[1,1.2,1],backgroundColor:['rgba(60, 47, 79, 0.7)','rgba(26, 60, 52, 0.7)','rgba(60, 47, 79, 0.7)'],easing:'easeInOutQuad',duration:1000});}setTimeout(()=>setCopied(false),2000);}catch(err){// Fallback clipboard method\nconst textArea=document.createElement('textarea');textArea.value=referralLink;document.body.appendChild(textArea);textArea.select();document.execCommand('copy');document.body.removeChild(textArea);setCopied(true);setTimeout(()=>setCopied(false),2000);}},[referralLink]);// Mystical avatar color generation - –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è\nconst getAvatarColor=useCallback(id=>{const mysticalColors=[COLOR_PALETTE.darkPurple,COLOR_PALETTE.darkTurquoise,COLOR_PALETTE.inkyBlue,'#6A0572','#4ECDC4','#7B68EE'];const numId=parseInt((id||'0').toString().replace(/\\D/g,''),10)||0;return mysticalColors[numId%mysticalColors.length];},[]);// Helper to get initials from a name - –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è\nconst getInitials=useCallback(name=>{if(!name)return'';const parts=name.split(' ');if(parts.length===1)return parts[0].charAt(0).toUpperCase();return parts[0].charAt(0).toUpperCase()+parts[parts.length-1].charAt(0).toUpperCase();},[]);// Mystical friend addition with enhanced validation\nconst handleAddFriend=useCallback(async()=>{setError('');setSuccess('');setIsProcessing(true);if(!friendId.trim()){setError('–í–≤–µ–¥–∏—Ç–µ ID –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—é–∑–Ω–∏–∫–∞');setIsProcessing(false);return;}if(friendId===(userData===null||userData===void 0?void 0:userData.userId)){setError('–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–±—è –≤ –∫—Ä—É–≥ —Å–æ—é–∑–Ω–∏–∫–æ–≤');setIsProcessing(false);return;}// Friend limit check with mystical messaging\nif(friends.length>=maxFriends){setError(\"\\u0412\\u0430\\u0448 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043A\\u0440\\u0443\\u0433 \\u0434\\u043E\\u0441\\u0442\\u0438\\u0433 \\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0430 (\".concat(maxFriends,\" \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u043E\\u0432)\"));setIsProcessing(false);return;}// Check for existing connections\nconst isFriend=friends.some(friend=>typeof friend==='object'?friend.telegram_id===friendId||friend.id===friendId:friend===friendId);if(isFriend){setError('–≠—Ç–∞ –¥—É—à–∞ —É–∂–µ —Å–≤—è–∑–∞–Ω–∞ —Å –≤–∞—à–∏–º –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–º –∫—Ä—É–≥–æ–º');setIsProcessing(false);return;}try{const result=await onSendRequest(friendId.trim());if(result&&result.success){setSuccess('–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞! üîÆ');setFriendId('');// –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è\nconst addButton=document.querySelector('.summon-button');if(addButton){anime({targets:addButton,scale:[1,1.2,1],backgroundColor:['rgba(60, 47, 79, 0.7)','rgba(26, 60, 52, 0.7)','rgba(60, 47, 79, 0.7)'],easing:'easeInOutQuad',duration:1000});}setTimeout(()=>setSuccess(''),3000);}else{setError((result===null||result===void 0?void 0:result.error)||'–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞');}}catch(error){setError('–ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞—Ä—É—à–∏–ª–æ —Å–≤—è–∑—å');}finally{setIsProcessing(false);}},[friendId,userData===null||userData===void 0?void 0:userData.userId,friends,maxFriends,onSendRequest]);// Numeric input handling\nconst handleIdChange=useCallback(e=>{const value=e.target.value;if(value===''||/^\\d+$/.test(value)){setFriendId(value);}},[]);// Mystical friend request acceptance\nconst handleAcceptRequest=useCallback(async friendId=>{setError('');setIsProcessing(true);if(friends.length>=maxFriends){setError(\"\\u0412\\u0430\\u0448 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043A\\u0440\\u0443\\u0433 \\u0434\\u043E\\u0441\\u0442\\u0438\\u0433 \\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0430 (\".concat(maxFriends,\" \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u043E\\u0432)\"));setIsProcessing(false);return;}try{const result=await onAcceptRequest(friendId);if(result&&result.success){setSuccess('–ù–æ–≤–∞—è –º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å —Å–∫—Ä–µ–ø–ª–µ–Ω–∞! +100 VL üåü');// –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–ø—Ä–æ—Å–∞\nconst requestCard=document.querySelector(\".friend-request-item[data-id=\\\"\".concat(friendId,\"\\\"]\"));if(requestCard){anime({targets:requestCard,opacity:[1,0],translateY:[0,-20],easing:'easeOutQuad',duration:500,complete:()=>{// –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏\n}});}setTimeout(()=>setSuccess(''),3000);}else{setError((result===null||result===void 0?void 0:result.error)||'–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–∏–Ω—è—Ç—å –º–∏—Å—Ç–∏—á–µ—Å–∫—É—é —Å–≤—è–∑—å');}}catch(error){setError('–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞—Ä—É—à–∏–ª–∏ —Å–≤—è–∑—å');}finally{setIsProcessing(false);}},[friends.length,maxFriends,onAcceptRequest]);// Friend request rejection\nconst handleRejectRequest=useCallback(async friendId=>{setIsProcessing(true);try{await onRejectRequest(friendId);setSuccess('–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞');// –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞\nconst requestCard=document.querySelector(\".friend-request-item[data-id=\\\"\".concat(friendId,\"\\\"]\"));if(requestCard){anime({targets:requestCard,opacity:[1,0],translateX:[0,50],easing:'easeOutQuad',duration:500,complete:()=>{// –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏\n}});}setTimeout(()=>setSuccess(''),3000);}catch(error){setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ —Å–≤—è–∑–∏');}finally{setIsProcessing(false);}},[onRejectRequest]);// Enhanced friend search - –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è\nconst handleSearchChange=useCallback(e=>{const query=e.target.value.toLowerCase();setSearchQuery(query);if(!query){setFilteredFriends(friends);}else{const filtered=friends.filter(friend=>{const friendId=typeof friend==='object'?friend.telegram_id:friend;const friendName=typeof friend==='object'?friend.first_name||friend.name||'':'';return(friendId===null||friendId===void 0?void 0:friendId.toString().toLowerCase().includes(query))||friendName.toLowerCase().includes(query);});setFilteredFriends(filtered);}},[friends]);// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏\nconst handleMouseEnter=useCallback(e=>{anime({targets:e.currentTarget,boxShadow:['0 0 5px rgba(232, 211, 169, 0.3)','0 0 15px rgba(232, 211, 169, 0.5)'],scale:1.03,easing:'easeOutQuad',duration:300});},[]);// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ —É—Ö–æ–¥–µ –º—ã—à–∏\nconst handleMouseLeave=useCallback(e=>{anime({targets:e.currentTarget,boxShadow:'0 0 5px rgba(232, 211, 169, 0.3)',scale:1,easing:'easeOutQuad',duration:300});},[]);// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π\nconst switchTab=useCallback(tab=>{// –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏\nconst currentTabContent=document.querySelector(\".tab-content[data-tab=\\\"\".concat(activeTab,\"\\\"]\"));if(currentTabContent){if(animationFrameIdRef.current){cancelAnimationFrame(animationFrameIdRef.current);}anime({targets:currentTabContent,opacity:[1,0],translateY:[0,20],easing:'easeOutQuad',duration:300,complete:()=>{setActiveTab(tab);}});}else{setActiveTab(tab);}},[activeTab]);// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏\nconst toggleReferralDetails=useCallback(()=>{const detailsEl=document.querySelector('.referral-details');if(detailsEl){if(showReferralDetails){anime({targets:detailsEl,height:[detailsEl.scrollHeight,0],opacity:[1,0],easing:'easeOutQuad',duration:300,complete:()=>{setShowReferralDetails(false);}});}else{setShowReferralDetails(true);anime({targets:detailsEl,height:[0,detailsEl.scrollHeight],opacity:[0,1],easing:'easeOutQuad',duration:300});}}else{setShowReferralDetails(!showReferralDetails);}},[showReferralDetails]);// –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º –æ—Ç—Ä–∏—Å–æ–≤–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥—Ä—É–∑—å—è\nconst requestsContent=useMemo(()=>{return friendRequests.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-requests-message\",children:\"\\u0423 \\u0432\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u0432\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0445 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432 \\u043D\\u0430 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0443\\u044E \\u0441\\u0432\\u044F\\u0437\\u044C\"}):/*#__PURE__*/_jsx(\"div\",{className:\"friend-requests-list\",children:friendRequests.map(request=>/*#__PURE__*/_jsxs(\"div\",{className:\"friend-request-item\",\"data-id\":request.sender_telegram_id||request.sender_id,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"friend-avatar\",style:{backgroundColor:getAvatarColor(request.sender_telegram_id||request.sender_id)},children:getInitials(request.sender_name||'–ú–∏—Å—Ç–∏–∫')}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"friend-name\",children:request.sender_name||'–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-id\",children:[\"ID: \",request.sender_telegram_id||request.sender_id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleAcceptRequest(request.sender_telegram_id||request.sender_id),disabled:isProcessing,className:\"accept-button\",children:[/*#__PURE__*/_jsx(FaCheck,{}),\" \\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044C\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleRejectRequest(request.sender_telegram_id||request.sender_id),disabled:isProcessing,className:\"reject-button\",children:[/*#__PURE__*/_jsx(FaTimesCircle,{}),\" \\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0438\\u0442\\u044C\"]})]})]},request.id||request.sender_id))});},[friendRequests,handleMouseEnter,handleMouseLeave,getAvatarColor,getInitials,isProcessing,handleAcceptRequest,handleRejectRequest]);// –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º –æ—Ç—Ä–∏—Å–æ–≤–∫—É —Å–ø–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π\nconst friendsContent=useMemo(()=>{return friends.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-friends-message\",children:[\"\\u0423 \\u0432\\u0430\\u0441 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0445 \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u043E\\u0432.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0418\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0439\\u0442\\u0435 \\u0441\\u0432\\u0438\\u0442\\u043E\\u043A \\u043F\\u0440\\u0438\\u0437\\u044B\\u0432\\u0430, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u0438\\u0433\\u043B\\u0430\\u0441\\u0438\\u0442\\u044C \\u0434\\u0440\\u0443\\u0437\\u0435\\u0439.\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"friends-list\",children:filteredFriends.map((friend,index)=>{const friendId=typeof friend==='object'?friend.telegram_id||friend.id:friend;const friendName=typeof friend==='object'?friend.first_name||friend.name||'–ú–∏—Å—Ç–∏–∫':'–ú–∏—Å—Ç–∏–∫';return/*#__PURE__*/_jsxs(\"div\",{className:\"friend-card\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"friend-avatar\",style:{backgroundColor:getAvatarColor(friendId)},children:getInitials(friendName)}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"friend-name\",children:friendName}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-id\",children:[\"ID: \",friendId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-bonus\",children:[/*#__PURE__*/_jsx(FaCoins,{}),\" +2 VL/\\u0447\\u0430\\u0441\"]})]})]},friendId||index);})});},[filteredFriends,friends.length,handleMouseEnter,handleMouseLeave,getAvatarColor,getInitials]);return/*#__PURE__*/_jsxs(\"div\",{className:\"friends-screen\",ref:containerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mystical-overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"friends-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(FaUserFriends,{}),\" \\u041C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u041A\\u0440\\u0443\\u0433\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friends-count\",children:[/*#__PURE__*/_jsx(FaStar,{}),\" \",friends.length,\"/\",maxFriends,\" \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u043E\\u0432\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"referral-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"referral-header\",onClick:toggleReferralDetails,children:[/*#__PURE__*/_jsx(\"div\",{className:\"referral-icon\",children:/*#__PURE__*/_jsx(FaScroll,{})}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u0421\\u0432\\u0438\\u0442\\u043E\\u043A \\u041F\\u0440\\u0438\\u0437\\u044B\\u0432\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"toggle-arrow \".concat(showReferralDetails?'open':''),children:showReferralDetails?'‚ñº':'‚ñ≤'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"referral-details \".concat(showReferralDetails?'visible':''),style:{height:showReferralDetails?'auto':'0',opacity:showReferralDetails?1:0,overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"referral-rewards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reward-item\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"reward-icon coins\",children:/*#__PURE__*/_jsx(FaCoins,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"reward-value\",children:\"+100 VL\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reward-label\",children:\"\\u041C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0430\\u044F \\u044D\\u043D\\u0435\\u0440\\u0433\\u0438\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reward-item\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"reward-icon xp\",children:/*#__PURE__*/_jsx(FaStar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"reward-value\",children:\"+50 XP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reward-label\",children:\"\\u041E\\u043F\\u044B\\u0442 \\u043F\\u043E\\u0437\\u043D\\u0430\\u043D\\u0438\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reward-item\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"reward-icon percent\",children:/*#__PURE__*/_jsx(FaPercent,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"reward-value\",children:\"+5%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reward-label\",children:\"\\u0411\\u043E\\u043D\\u0443\\u0441 \\u043A \\u0434\\u043E\\u0445\\u043E\\u0434\\u0443\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"referral-link-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"referral-text\",children:\"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u0435\\u0441\\u044C \\u044D\\u0442\\u0438\\u043C \\u0441\\u0432\\u0438\\u0442\\u043A\\u043E\\u043C, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u0438\\u0437\\u0432\\u0430\\u0442\\u044C \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u043E\\u0432 \\u0432 \\u0432\\u0430\\u0448 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u043A\\u0440\\u0443\\u0433:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"referral-link\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"link-text\",children:referralLink}),/*#__PURE__*/_jsxs(\"button\",{className:\"copy-button\",onClick:copyToClipboard,children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:copied?/*#__PURE__*/_jsx(FaCheck,{}):/*#__PURE__*/_jsx(FaCopy,{})}),copied?'–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ':'–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å']})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mystical-tabs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab \".concat(activeTab==='summon'?'active':''),onClick:()=>switchTab('summon'),children:[/*#__PURE__*/_jsx(FaUserPlus,{}),\" \\u041F\\u0440\\u0438\\u0437\\u0432\\u0430\\u0442\\u044C\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab \".concat(activeTab==='requests'?'active':''),onClick:()=>switchTab('requests'),children:[/*#__PURE__*/_jsx(FaUserClock,{}),\" \\u0417\\u0430\\u043F\\u0440\\u043E\\u0441\\u044B \",friendRequests.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"tab-badge\",children:friendRequests.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab \".concat(activeTab==='allies'?'active':''),onClick:()=>switchTab('allies'),children:[/*#__PURE__*/_jsx(FaUserFriends,{}),\" \\u0421\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u0438 \",friends.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"tab-badge\",children:friends.length})]}),/*#__PURE__*/_jsx(\"button\",{className:\"refresh-button\",onClick:handleRefresh,disabled:isProcessing,children:isProcessing?'–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...':'–û–±–Ω–æ–≤–∏—Ç—å'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content \".concat(activeTab==='summon'?'active':''),\"data-tab\":\"summon\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"add-friend-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaFeatherAlt,{}),\" \\u041F\\u0440\\u0438\\u0437\\u0432\\u0430\\u0442\\u044C \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u0433\\u043E \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u0430\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:friendId,onChange:handleIdChange,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 Telegram ID\",disabled:isProcessing,className:\"friend-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddFriend,disabled:isProcessing||!friendId.trim(),className:\"summon-button\",children:\"\\u041F\\u0440\\u0438\\u0437\\u0432\\u0430\\u0442\\u044C\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsx(\"div\",{className:\"summon-description\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 Telegram ID \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u0430, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0435\\u043C\\u0443 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0439 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441 \\u043D\\u0430 \\u0441\\u0432\\u044F\\u0437\\u044C. \\u041F\\u043E\\u0441\\u043B\\u0435 \\u043F\\u0440\\u0438\\u043D\\u044F\\u0442\\u0438\\u044F \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0430 \\u0432\\u044B \\u043E\\u0431\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0435 \\u0431\\u043E\\u043D\\u0443\\u0441\\u044B \\u043A \\u0434\\u043E\\u0445\\u043E\\u0434\\u0443 \\u0438 \\u043E\\u043F\\u044B\\u0442\\u0443.\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content \".concat(activeTab==='requests'?'active':''),\"data-tab\":\"requests\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"friend-requests-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaMoon,{}),\" \\u041E\\u0436\\u0438\\u0434\\u0430\\u044E\\u0449\\u0438\\u0435 \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0441\\u0432\\u044F\\u0437\\u0438\"]}),requestsContent]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content \".concat(activeTab==='allies'?'active':''),\"data-tab\":\"allies\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"friends-list-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaNetworkWired,{}),\" \\u041C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u0438\"]}),friends.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:handleSearchChange,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u0438\\u043C\\u0435\\u043D\\u0438 \\u0438\\u043B\\u0438 ID...\",className:\"search-input\"})}),loadingFriends?/*#__PURE__*/_jsx(\"div\",{className:\"no-friends-message\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u043C \\u043C\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0445 \\u0441\\u043E\\u044E\\u0437\\u043D\\u0438\\u043A\\u043E\\u0432\\u2026\"}):friendsContent]})})]});};export default/*#__PURE__*/React.memo(FriendsScreen);","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","useCallback","FaUserPlus","FaCopy","FaCheck","FaUserFriends","FaGift","FaUserClock","FaStar","FaCoins","FaPercent","FaTimesCircle","FaNetworkWired","FaMoon","FaScroll","FaFeatherAlt","anime","jsx","_jsx","jsxs","_jsxs","COLOR_PALETTE","darkPurple","beigeParchment","darkTurquoise","inkyBlue","moonBlue","FriendsScreen","_ref","userData","friends","friendRequests","onSendRequest","onAcceptRequest","onRejectRequest","onLoadFriends","maxFriends","friendId","setFriendId","error","setError","success","setSuccess","copied","setCopied","searchQuery","setSearchQuery","filteredFriends","setFilteredFriends","loadingFriends","setLoadingFriends","isProcessing","setIsProcessing","activeTab","setActiveTab","showReferralDetails","setShowReferralDetails","containerRef","particlesRef","tarotCardsRef","didLoadRef","animationFrameIdRef","current","Promise","resolve","finally","handleRefresh","catch","referralLink","concat","userId","createParticles","container","particles","forEach","particle","parentNode","removeChild","i","document","createElement","className","size","Math","random","posX","posY","delay","duration","color","Object","assign","style","position","width","height","borderRadius","backgroundColor","opacity","top","left","boxShadow","zIndex","pointerEvents","appendChild","push","targets","translateY","translateX","scale","easing","loop","cancelAnimationFrame","tabContent","querySelector","requestAnimationFrame","copyToClipboard","navigator","clipboard","writeText","vibrate","copyButton","setTimeout","err","textArea","value","body","select","execCommand","getAvatarColor","id","mysticalColors","numId","parseInt","toString","replace","length","getInitials","name","parts","split","charAt","toUpperCase","handleAddFriend","trim","isFriend","some","friend","telegram_id","result","addButton","handleIdChange","e","target","test","handleAcceptRequest","requestCard","complete","handleRejectRequest","handleSearchChange","query","toLowerCase","filtered","filter","friendName","first_name","includes","handleMouseEnter","currentTarget","handleMouseLeave","switchTab","tab","currentTabContent","toggleReferralDetails","detailsEl","scrollHeight","requestsContent","children","map","request","sender_telegram_id","sender_id","onMouseEnter","onMouseLeave","sender_name","onClick","disabled","friendsContent","index","ref","overflow","type","onChange","placeholder","memo"],"sources":["/var/www/www-root/data/www/knigavl.ru/src/screens/FriendsScreen.js"],"sourcesContent":["// src/screens/FriendsScreen.js - –ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è\nimport React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\nimport { \n  FaUserPlus, FaCopy, FaCheck, FaUserFriends, FaGift, \n  FaUserClock, FaStar, FaCoins, FaPercent, FaTimesCircle,\n  FaNetworkWired, FaMoon, FaScroll, FaFeatherAlt\n} from 'react-icons/fa';\nimport anime from 'animejs/lib/anime.js';\nimport './FriendsScreen.css';\n\n// –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π\nconst COLOR_PALETTE = {\n  darkPurple: '#3C2F4F',    // –¢—ë–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω\n  beigeParchment: '#E8D3A9', // –ë–µ–∂–µ–≤–æ-–ø–µ—Ä–≥–∞–º–µ–Ω—Ç–Ω—ã–π ‚Äî —Ç–µ–∫—Å—Ç, –∞–∫—Ü–µ–Ω—Ç—ã\n  darkTurquoise: '#1A3C34',  // –¢—ë–º–Ω—ã–π –±–∏—Ä—é–∑–æ–≤—ã–π ‚Äî —Å–≤–µ—Ç–ª—è—á–∫–∏, —Å–≤–µ—á–µ–Ω–∏–µ\n  inkyBlue: '#1B263B',       // –ß–µ—Ä–Ω–∏–ª—å–Ω—ã–π —Å–∏–Ω–∏–π ‚Äî —Ç–µ–Ω–∏, –∫–æ–Ω—Ç—É—Ä—ã\n  moonBlue: '#A8C7FA',       // –ì–æ–ª—É–±–æ–≤–∞—Ç—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ –ª—É–Ω—ã\n};\n\nconst FriendsScreen = ({ \n  userData,\n  friends = [], \n  friendRequests = [], \n  onSendRequest, \n  onAcceptRequest, \n  onRejectRequest, \n  onLoadFriends,\n  maxFriends = 20 \n}) => {\n  const [friendId, setFriendId] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredFriends, setFilteredFriends] = useState(friends);\n  const [loadingFriends, setLoadingFriends] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [activeTab, setActiveTab] = useState('summon'); // 'summon', 'requests', 'allies'\n  const [showReferralDetails, setShowReferralDetails] = useState(false);\n  \n  // Refs –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π\n  const containerRef = useRef(null);\n  const particlesRef = useRef([]);\n  const tarotCardsRef = useRef([]);\n  const didLoadRef = useRef(false);\n  const animationFrameIdRef = useRef(null);\n  \n  // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n  useEffect(() => {\n    if (onLoadFriends && !didLoadRef.current) {\n      setLoadingFriends(true);\n      Promise.resolve(onLoadFriends()).finally(() => {\n        setLoadingFriends(false);\n      });\n      didLoadRef.current = true;\n    }\n  }, [onLoadFriends]);\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –¥—Ä—É–∑—å—è—Ö\n  const handleRefresh = () => {\n    if (onLoadFriends) {\n      setIsProcessing(true);\n      setLoadingFriends(true);\n      Promise.resolve(onLoadFriends())\n        .catch(() => {})\n        .finally(() => {\n          setIsProcessing(false);\n          setLoadingFriends(false);\n        });\n    }\n  };\n  \n  // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π\n  useEffect(() => {\n    setFilteredFriends(friends);\n  }, [friends]);\n\n  // –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è\n  const referralLink = useMemo(() => \n    `https://t.me/VLTOKEN_BOT?start=ref_${userData?.userId}`\n  , [userData?.userId]);\n\n  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Å—Ç–∏—Ü - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω\n  useEffect(() => {\n    if (!containerRef.current) return;\n    \n    // –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã\n    const createParticles = () => {\n      const container = containerRef.current;\n      if (!container) return;\n      \n      const particles = [];\n      \n      // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —á–∞—Å—Ç–∏—Ü—ã\n      particlesRef.current.forEach(particle => {\n        if (particle.parentNode) {\n          particle.parentNode.removeChild(particle);\n        }\n      });\n      \n      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã - —É–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å 30 –¥–æ 12\n      for (let i = 0; i < 12; i++) {\n        const particle = document.createElement('div');\n        particle.className = 'mystical-particle';\n        \n        // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ –ø–æ–∑–∏—Ü–∏—è\n        const size = 2 + Math.random() * 6;\n        const posX = Math.random() * 100;\n        const posY = Math.random() * 100;\n        const delay = Math.random() * 5;\n        const duration = 15 + Math.random() * 15;\n        const color = Math.random() > 0.5 ? COLOR_PALETTE.beigeParchment : COLOR_PALETTE.moonBlue;\n        \n        // –°—Ç–∏–ª–∏ —á–∞—Å—Ç–∏—Ü—ã\n        Object.assign(particle.style, {\n          position: 'absolute',\n          width: `${size}px`,\n          height: `${size}px`,\n          borderRadius: '50%',\n          backgroundColor: color,\n          opacity: 0,\n          top: `${posY}%`,\n          left: `${posX}%`,\n          boxShadow: `0 0 ${size * 2}px ${color}`,\n          zIndex: -1,\n          pointerEvents: 'none'\n        });\n        \n        // –î–æ–±–∞–≤–ª—è–µ–º —á–∞—Å—Ç–∏—Ü—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä\n        container.appendChild(particle);\n        particles.push(particle);\n        \n        // –ê–Ω–∏–º–∏—Ä—É–µ–º —á–∞—Å—Ç–∏—Ü—É —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏\n        anime({\n          targets: particle,\n          opacity: [0, 0.3, 0],\n          translateY: [0, -100],\n          translateX: () => [0, (Math.random() - 0.5) * 50],\n          scale: [1, 0.5, 0],\n          easing: 'easeInOutQuad',\n          duration: duration * 1000,\n          delay: delay * 1000,\n          loop: true\n        });\n      }\n      \n      particlesRef.current = particles;\n    };\n    \n    createParticles();\n    \n    // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n    return () => {\n      if (animationFrameIdRef.current) {\n        cancelAnimationFrame(animationFrameIdRef.current);\n      }\n      \n      particlesRef.current.forEach(particle => {\n        if (particle.parentNode) {\n          particle.parentNode.removeChild(particle);\n        }\n      });\n    };\n  }, []);\n  \n  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫ - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω\n  useEffect(() => {\n    const tabContent = document.querySelector(`.tab-content[data-tab=\"${activeTab}\"]`);\n    if (tabContent) {\n      if (animationFrameIdRef.current) {\n        cancelAnimationFrame(animationFrameIdRef.current);\n      }\n      \n      animationFrameIdRef.current = requestAnimationFrame(() => {\n        anime({\n          targets: tabContent,\n          opacity: [0, 1],\n          translateY: [20, 0],\n          easing: 'easeOutQuad',\n          duration: 400\n        });\n      });\n    }\n  }, [activeTab]);\n\n  // Enhanced clipboard interaction with mystical feedback\n  const copyToClipboard = useCallback(async () => {\n    try {\n      await navigator.clipboard.writeText(referralLink);\n      setCopied(true);\n      \n      // Mystical vibration effect\n      if ('vibrate' in navigator) {\n        navigator.vibrate([50, 30, 50]);\n      }\n      \n      // –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è\n      const copyButton = document.querySelector('.copy-button');\n      if (copyButton) {\n        anime({\n          targets: copyButton,\n          scale: [1, 1.2, 1],\n          backgroundColor: [\n            'rgba(60, 47, 79, 0.7)',\n            'rgba(26, 60, 52, 0.7)',\n            'rgba(60, 47, 79, 0.7)'\n          ],\n          easing: 'easeInOutQuad',\n          duration: 1000\n        });\n      }\n      \n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      // Fallback clipboard method\n      const textArea = document.createElement('textarea');\n      textArea.value = referralLink;\n      document.body.appendChild(textArea);\n      textArea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textArea);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  }, [referralLink]);\n\n  // Mystical avatar color generation - –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è\n  const getAvatarColor = useCallback((id) => {\n    const mysticalColors = [\n      COLOR_PALETTE.darkPurple, \n      COLOR_PALETTE.darkTurquoise, \n      COLOR_PALETTE.inkyBlue,\n      '#6A0572', '#4ECDC4', '#7B68EE'\n    ];\n    const numId = parseInt((id || '0').toString().replace(/\\D/g, ''), 10) || 0;\n    return mysticalColors[numId % mysticalColors.length];\n  }, []);\n\n  // Helper to get initials from a name - –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è\n  const getInitials = useCallback((name) => {\n    if (!name) return '';\n    const parts = name.split(' ');\n    if (parts.length === 1) return parts[0].charAt(0).toUpperCase();\n    return parts[0].charAt(0).toUpperCase() + parts[parts.length - 1].charAt(0).toUpperCase();\n  }, []);\n\n  // Mystical friend addition with enhanced validation\n  const handleAddFriend = useCallback(async () => {\n    setError('');\n    setSuccess('');\n    setIsProcessing(true);\n    \n    if (!friendId.trim()) {\n      setError('–í–≤–µ–¥–∏—Ç–µ ID –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—é–∑–Ω–∏–∫–∞');\n      setIsProcessing(false);\n      return;\n    }\n    \n    if (friendId === userData?.userId) {\n      setError('–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–±—è –≤ –∫—Ä—É–≥ —Å–æ—é–∑–Ω–∏–∫–æ–≤');\n      setIsProcessing(false);\n      return;\n    }\n    \n    // Friend limit check with mystical messaging\n    if (friends.length >= maxFriends) {\n      setError(`–í–∞—à –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥ –¥–æ—Å—Ç–∏–≥ –ø—Ä–µ–¥–µ–ª–∞ (${maxFriends} —Å–æ—é–∑–Ω–∏–∫–æ–≤)`);\n      setIsProcessing(false);\n      return;\n    }\n    \n    // Check for existing connections\n    const isFriend = friends.some(friend => \n      typeof friend === 'object' ? \n        (friend.telegram_id === friendId || friend.id === friendId) : \n        friend === friendId\n    );\n    \n    if (isFriend) {\n      setError('–≠—Ç–∞ –¥—É—à–∞ —É–∂–µ —Å–≤—è–∑–∞–Ω–∞ —Å –≤–∞—à–∏–º –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–º –∫—Ä—É–≥–æ–º');\n      setIsProcessing(false);\n      return;\n    }\n    \n    try {\n      const result = await onSendRequest(friendId.trim());\n      \n      if (result && result.success) {\n        setSuccess('–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞! üîÆ');\n        setFriendId('');\n        \n        // –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è\n        const addButton = document.querySelector('.summon-button');\n        if (addButton) {\n          anime({\n            targets: addButton,\n            scale: [1, 1.2, 1],\n            backgroundColor: [\n              'rgba(60, 47, 79, 0.7)',\n              'rgba(26, 60, 52, 0.7)',\n              'rgba(60, 47, 79, 0.7)'\n            ],\n            easing: 'easeInOutQuad',\n            duration: 1000\n          });\n        }\n        \n        setTimeout(() => setSuccess(''), 3000);\n      } else {\n        setError(result?.error || '–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞');\n      }\n    } catch (error) {\n      setError('–ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞—Ä—É—à–∏–ª–æ —Å–≤—è–∑—å');\n    } finally {\n      setIsProcessing(false);\n    }\n  }, [friendId, userData?.userId, friends, maxFriends, onSendRequest]);\n\n  // Numeric input handling\n  const handleIdChange = useCallback((e) => {\n    const value = e.target.value;\n    if (value === '' || /^\\d+$/.test(value)) {\n      setFriendId(value);\n    }\n  }, []);\n\n  // Mystical friend request acceptance\n  const handleAcceptRequest = useCallback(async (friendId) => {\n    setError('');\n    setIsProcessing(true);\n    \n    if (friends.length >= maxFriends) {\n      setError(`–í–∞—à –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥ –¥–æ—Å—Ç–∏–≥ –ø—Ä–µ–¥–µ–ª–∞ (${maxFriends} —Å–æ—é–∑–Ω–∏–∫–æ–≤)`);\n      setIsProcessing(false);\n      return;\n    }\n    \n    try {\n      const result = await onAcceptRequest(friendId);\n      \n      if (result && result.success) {\n        setSuccess('–ù–æ–≤–∞—è –º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å —Å–∫—Ä–µ–ø–ª–µ–Ω–∞! +100 VL üåü');\n        \n        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–ø—Ä–æ—Å–∞\n        const requestCard = document.querySelector(`.friend-request-item[data-id=\"${friendId}\"]`);\n        if (requestCard) {\n          anime({\n            targets: requestCard,\n            opacity: [1, 0],\n            translateY: [0, -20],\n            easing: 'easeOutQuad',\n            duration: 500,\n            complete: () => {\n              // –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏\n            }\n          });\n        }\n        \n        setTimeout(() => setSuccess(''), 3000);\n      } else {\n        setError(result?.error || '–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–∏–Ω—è—Ç—å –º–∏—Å—Ç–∏—á–µ—Å–∫—É—é —Å–≤—è–∑—å');\n      }\n    } catch (error) {\n      setError('–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞—Ä—É—à–∏–ª–∏ —Å–≤—è–∑—å');\n    } finally {\n      setIsProcessing(false);\n    }\n  }, [friends.length, maxFriends, onAcceptRequest]);\n\n  // Friend request rejection\n  const handleRejectRequest = useCallback(async (friendId) => {\n    setIsProcessing(true);\n    try {\n      await onRejectRequest(friendId);\n      setSuccess('–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞');\n      \n      // –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞\n      const requestCard = document.querySelector(`.friend-request-item[data-id=\"${friendId}\"]`);\n      if (requestCard) {\n        anime({\n          targets: requestCard,\n          opacity: [1, 0],\n          translateX: [0, 50],\n          easing: 'easeOutQuad',\n          duration: 500,\n          complete: () => {\n            // –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏\n          }\n        });\n      }\n      \n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ —Å–≤—è–∑–∏');\n    } finally {\n      setIsProcessing(false);\n    }\n  }, [onRejectRequest]);\n  \n  // Enhanced friend search - –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è\n  const handleSearchChange = useCallback((e) => {\n    const query = e.target.value.toLowerCase();\n    setSearchQuery(query);\n    \n    if (!query) {\n      setFilteredFriends(friends);\n    } else {\n      const filtered = friends.filter(friend => {\n        const friendId = typeof friend === 'object' ? friend.telegram_id : friend;\n        const friendName = typeof friend === 'object' ? (friend.first_name || friend.name || '') : '';\n        return friendId?.toString().toLowerCase().includes(query) || \n               friendName.toLowerCase().includes(query);\n      });\n      setFilteredFriends(filtered);\n    }\n  }, [friends]);\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏\n  const handleMouseEnter = useCallback((e) => {\n    anime({\n      targets: e.currentTarget,\n      boxShadow: [\n        '0 0 5px rgba(232, 211, 169, 0.3)',\n        '0 0 15px rgba(232, 211, 169, 0.5)'\n      ],\n      scale: 1.03,\n      easing: 'easeOutQuad',\n      duration: 300\n    });\n  }, []);\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ —É—Ö–æ–¥–µ –º—ã—à–∏\n  const handleMouseLeave = useCallback((e) => {\n    anime({\n      targets: e.currentTarget,\n      boxShadow: '0 0 5px rgba(232, 211, 169, 0.3)',\n      scale: 1,\n      easing: 'easeOutQuad',\n      duration: 300\n    });\n  }, []);\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π\n  const switchTab = useCallback((tab) => {\n    // –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏\n    const currentTabContent = document.querySelector(`.tab-content[data-tab=\"${activeTab}\"]`);\n    if (currentTabContent) {\n      if (animationFrameIdRef.current) {\n        cancelAnimationFrame(animationFrameIdRef.current);\n      }\n      \n      anime({\n        targets: currentTabContent,\n        opacity: [1, 0],\n        translateY: [0, 20],\n        easing: 'easeOutQuad',\n        duration: 300,\n        complete: () => {\n          setActiveTab(tab);\n        }\n      });\n    } else {\n      setActiveTab(tab);\n    }\n  }, [activeTab]);\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏\n  const toggleReferralDetails = useCallback(() => {\n    const detailsEl = document.querySelector('.referral-details');\n    if (detailsEl) {\n      if (showReferralDetails) {\n        anime({\n          targets: detailsEl,\n          height: [detailsEl.scrollHeight, 0],\n          opacity: [1, 0],\n          easing: 'easeOutQuad',\n          duration: 300,\n          complete: () => {\n            setShowReferralDetails(false);\n          }\n        });\n      } else {\n        setShowReferralDetails(true);\n        anime({\n          targets: detailsEl,\n          height: [0, detailsEl.scrollHeight],\n          opacity: [0, 1],\n          easing: 'easeOutQuad',\n          duration: 300\n        });\n      }\n    } else {\n      setShowReferralDetails(!showReferralDetails);\n    }\n  }, [showReferralDetails]);\n  \n  // –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º –æ—Ç—Ä–∏—Å–æ–≤–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥—Ä—É–∑—å—è\n  const requestsContent = useMemo(() => {\n    return friendRequests.length === 0 ? (\n      <div className=\"no-requests-message\">\n        –£ –≤–∞—Å –Ω–µ—Ç –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –º–∏—Å—Ç–∏—á–µ—Å–∫—É—é —Å–≤—è–∑—å\n      </div>\n    ) : (\n      <div className=\"friend-requests-list\">\n        {friendRequests.map(request => (\n          <div \n            key={request.id || request.sender_id} \n            className=\"friend-request-item\"\n            data-id={request.sender_telegram_id || request.sender_id}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          >\n            <div \n              className=\"friend-avatar\" \n              style={{ backgroundColor: getAvatarColor(request.sender_telegram_id || request.sender_id) }}\n            >\n              {getInitials(request.sender_name || '–ú–∏—Å—Ç–∏–∫')}\n            </div>\n            <div className=\"friend-info\">\n              <div className=\"friend-name\">{request.sender_name || '–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}</div>\n              <div className=\"friend-id\">ID: {request.sender_telegram_id || request.sender_id}</div>\n            </div>\n            <div className=\"friend-actions\">\n              <button \n                onClick={() => handleAcceptRequest(request.sender_telegram_id || request.sender_id)} \n                disabled={isProcessing}\n                className=\"accept-button\" \n              >\n                <FaCheck /> –ü—Ä–∏–Ω—è—Ç—å\n              </button>\n              <button \n                onClick={() => handleRejectRequest(request.sender_telegram_id || request.sender_id)} \n                disabled={isProcessing}\n                className=\"reject-button\"\n              >\n                <FaTimesCircle /> –û—Ç–∫–ª–æ–Ω–∏—Ç—å\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }, [friendRequests, handleMouseEnter, handleMouseLeave, getAvatarColor, getInitials, isProcessing, handleAcceptRequest, handleRejectRequest]);\n  \n  // –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º –æ—Ç—Ä–∏—Å–æ–≤–∫—É —Å–ø–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π\n  const friendsContent = useMemo(() => {\n    return friends.length === 0 ? (\n      <div className=\"no-friends-message\">\n        –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ—é–∑–Ω–∏–∫–æ–≤.<br />\n        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–∏—Ç–æ–∫ –ø—Ä–∏–∑—ã–≤–∞, —á—Ç–æ–±—ã –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π.\n      </div>\n    ) : (\n      <div className=\"friends-list\">\n        {filteredFriends.map((friend, index) => {\n          const friendId = typeof friend === 'object' ? (friend.telegram_id || friend.id) : friend;\n          const friendName = typeof friend === 'object' ? (friend.first_name || friend.name || '–ú–∏—Å—Ç–∏–∫') : '–ú–∏—Å—Ç–∏–∫';\n          \n          return (\n            <div \n              key={friendId || index} \n              className=\"friend-card\"\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n            >\n              <div className=\"friend-avatar\" style={{ backgroundColor: getAvatarColor(friendId) }}>\n                {getInitials(friendName)}\n              </div>\n              <div className=\"friend-info\">\n                <div className=\"friend-name\">{friendName}</div>\n                <div className=\"friend-id\">ID: {friendId}</div>\n                <div className=\"friend-bonus\">\n                  <FaCoins /> +2 VL/—á–∞—Å\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }, [filteredFriends, friends.length, handleMouseEnter, handleMouseLeave, getAvatarColor, getInitials]);\n\n  return (\n    <div className=\"friends-screen\" ref={containerRef}>\n      {/* –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω —Å —á–∞—Å—Ç–∏—Ü–∞–º–∏ */}\n      <div className=\"mystical-overlay\"></div>\n      \n      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —ç–∫—Ä–∞–Ω–∞ */}\n      <div className=\"friends-header\">\n        <h2><FaUserFriends /> –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ö—Ä—É–≥</h2>\n        <div className=\"friends-count\">\n          <FaStar /> {friends.length}/{maxFriends} —Å–æ—é–∑–Ω–∏–∫–æ–≤\n        </div>\n      </div>\n      \n      {/* –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ */}\n      <div className=\"referral-card\">\n        <div className=\"referral-header\" onClick={toggleReferralDetails}>\n          <div className=\"referral-icon\">\n            <FaScroll />\n          </div>\n          <h3>–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –°–≤–∏—Ç–æ–∫ –ü—Ä–∏–∑—ã–≤–∞</h3>\n          <div className={`toggle-arrow ${showReferralDetails ? 'open' : ''}`}>\n            {showReferralDetails ? '‚ñº' : '‚ñ≤'}\n          </div>\n        </div>\n        \n        <div className={`referral-details ${showReferralDetails ? 'visible' : ''}`} style={{ height: showReferralDetails ? 'auto' : '0', opacity: showReferralDetails ? 1 : 0, overflow: 'hidden' }}>\n          <div className=\"referral-rewards\">\n            <div className=\"reward-item\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n              <div className=\"reward-icon coins\">\n                <FaCoins />\n              </div>\n              <div className=\"reward-value\">+100 VL</div>\n              <div className=\"reward-label\">–ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è</div>\n            </div>\n            <div className=\"reward-item\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n              <div className=\"reward-icon xp\">\n                <FaStar />\n              </div>\n              <div className=\"reward-value\">+50 XP</div>\n              <div className=\"reward-label\">–û–ø—ã—Ç –ø–æ–∑–Ω–∞–Ω–∏—è</div>\n            </div>\n            <div className=\"reward-item\" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n              <div className=\"reward-icon percent\">\n                <FaPercent />\n              </div>\n              <div className=\"reward-value\">+5%</div>\n              <div className=\"reward-label\">–ë–æ–Ω—É—Å –∫ –¥–æ—Ö–æ–¥—É</div>\n            </div>\n          </div>\n          \n          <div className=\"referral-link-container\">\n            <div className=\"referral-text\">\n              –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º —Å–≤–∏—Ç–∫–æ–º, —á—Ç–æ–±—ã –ø—Ä–∏–∑–≤–∞—Ç—å —Å–æ—é–∑–Ω–∏–∫–æ–≤ –≤ –≤–∞—à –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥:\n            </div>\n            <div className=\"referral-link\">\n              <div className=\"link-text\">{referralLink}</div>\n              <button className=\"copy-button\" onClick={copyToClipboard}>\n                <span className=\"icon\">{copied ? <FaCheck /> : <FaCopy />}</span>\n                {copied ? '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ' : '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* –í–∫–ª–∞–¥–∫–∏ */}\n      <div className=\"mystical-tabs\">\n        <div \n          className={`tab ${activeTab === 'summon' ? 'active' : ''}`}\n          onClick={() => switchTab('summon')}\n        >\n          <FaUserPlus /> –ü—Ä–∏–∑–≤–∞—Ç—å\n        </div>\n        <div \n          className={`tab ${activeTab === 'requests' ? 'active' : ''}`}\n          onClick={() => switchTab('requests')}\n        >\n          <FaUserClock /> –ó–∞–ø—Ä–æ—Å—ã {friendRequests.length > 0 && <span className=\"tab-badge\">{friendRequests.length}</span>}\n        </div>\n        <div \n          className={`tab ${activeTab === 'allies' ? 'active' : ''}`}\n          onClick={() => switchTab('allies')}\n        >\n          <FaUserFriends /> –°–æ—é–∑–Ω–∏–∫–∏ {friends.length > 0 && <span className=\"tab-badge\">{friends.length}</span>}\n        </div>\n        <button \n          className=\"refresh-button\"\n          onClick={handleRefresh}\n          disabled={isProcessing}\n        >\n          {isProcessing ? '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...' : '–û–±–Ω–æ–≤–∏—Ç—å'}\n        </button>\n      </div>\n      \n      {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ \"–ü—Ä–∏–∑–≤–∞—Ç—å\" */}\n      <div className={`tab-content ${activeTab === 'summon' ? 'active' : ''}`} data-tab=\"summon\">\n        <div className=\"add-friend-section\">\n          <h3><FaFeatherAlt /> –ü—Ä–∏–∑–≤–∞—Ç—å –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—é–∑–Ω–∏–∫–∞</h3>\n          <div className=\"friend-input-container\">\n            <input\n              type=\"text\"\n              value={friendId}\n              onChange={handleIdChange}\n              placeholder=\"–í–≤–µ–¥–∏—Ç–µ Telegram ID\"\n              disabled={isProcessing}\n              className=\"friend-input\"\n            />\n            <button \n              onClick={handleAddFriend}\n              disabled={isProcessing || !friendId.trim()}\n              className=\"summon-button\"\n            >\n              –ü—Ä–∏–∑–≤–∞—Ç—å\n            </button>\n          </div>\n          \n          {error && <div className=\"error-message\">{error}</div>}\n          {success && <div className=\"success-message\">{success}</div>}\n          \n          <div className=\"summon-description\">\n            <p>–í–≤–µ–¥–∏—Ç–µ Telegram ID —Å–æ—é–∑–Ω–∏–∫–∞, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–º—É –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–≤—è–∑—å. –ü–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞–ø—Ä–æ—Å–∞ –≤—ã –æ–±–∞ –ø–æ–ª—É—á–∏—Ç–µ –±–æ–Ω—É—Å—ã –∫ –¥–æ—Ö–æ–¥—É –∏ –æ–ø—ã—Ç—É.</p>\n          </div>\n        </div>\n      </div>\n      \n      {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ \"–ó–∞–ø—Ä–æ—Å—ã\" */}\n      <div className={`tab-content ${activeTab === 'requests' ? 'active' : ''}`} data-tab=\"requests\">\n        <div className=\"friend-requests-section\">\n          <h3><FaMoon /> –û–∂–∏–¥–∞—é—â–∏–µ –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏</h3>\n          {requestsContent}\n        </div>\n      </div>\n      \n      {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ \"–°–æ—é–∑–Ω–∏–∫–∏\" */}\n      <div className={`tab-content ${activeTab === 'allies' ? 'active' : ''}`} data-tab=\"allies\">\n        <div className=\"friends-list-section\">\n          <h3><FaNetworkWired /> –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ—é–∑–Ω–∏–∫–∏</h3>\n          \n          {friends.length > 0 && (\n            <div className=\"search-container\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={handleSearchChange}\n                placeholder=\"–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ ID...\"\n                className=\"search-input\"\n              />\n            </div>\n          )}\n          \n          {loadingFriends ? (\n            <div className=\"no-friends-message\">–ó–∞–≥—Ä—É–∂–∞–µ–º –º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ—é–∑–Ω–∏–∫–æ–≤‚Ä¶</div>\n          ) : (\n            friendsContent\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(FriendsScreen);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}