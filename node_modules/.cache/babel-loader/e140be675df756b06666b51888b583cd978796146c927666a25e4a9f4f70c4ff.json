{"ast":null,"code":"import _objectSpread from\"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useRef,useState}from'react';import anime from'animejs/lib/anime.js';import GenerativeIcon from'../../components/GenerativeIcon';import AlchemyFlask from'../../components/AlchemyFlask';import'./mini.css';// –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∞–ª—Ö–∏–º–∏—á–µ—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ingredients=[{id:'moonherb',name:'–õ—É–Ω–Ω–∞—è —Ç—Ä–∞–≤–∞',color:'#A8C7FA',temp:60,effect:'healing'},{id:'fireflower',name:'–û–≥–Ω–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç–æ–∫',color:'#FF6B6B',temp:120,effect:'energy'},{id:'crystaldust',name:'–ö—Ä–∏—Å—Ç–∞–ª—å–Ω–∞—è –ø—ã–ª—å',color:'#4ECDC4',temp:40,effect:'magic'},{id:'shadowmoss',name:'–¢–µ–Ω–µ–≤–æ–π –º–æ—Ö',color:'#9B59B6',temp:80,effect:'stealth'},{id:'goldensap',name:'–ó–æ–ª–æ—Ç–∞—è —Å–º–æ–ª–∞',color:'#F1C40F',temp:100,effect:'luck'}];const AlchemyLab=_ref=>{let{onClose,onBrew,onAddPotion,energyReward=0.08}=_ref;const[selectedIngredients,setSelectedIngredients]=useState([]);const[temperature,setTemperature]=useState(20);const[isHeating,setIsHeating]=useState(false);const[brewingStage,setBrewingStage]=useState('selecting');// selecting, heating, mixing, complete\nconst[potionColor,setPotionColor]=useState('#3C2F4F');const[bubbles,setBubbles]=useState([]);const[hint,setHint]=useState('–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∑–µ–ª—å—è');const cauldronRef=useRef(null);const flameRef=useRef(null);const liquidRef=useRef(null);const temperatureRef=useRef(20);// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∑–µ–ª—å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤\nuseEffect(()=>{if(selectedIngredients.length===0){setPotionColor('#3C2F4F');return;}// –°–º–µ—à–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤\nlet r=0,g=0,b=0;selectedIngredients.forEach(ing=>{var _ingredients$find;const color=((_ingredients$find=ingredients.find(i=>i.id===ing.id))===null||_ingredients$find===void 0?void 0:_ingredients$find.color)||'#3C2F4F';const rgb=hexToRgb(color);r+=rgb.r;g+=rgb.g;b+=rgb.b;});const count=selectedIngredients.length;const newColor=\"rgb(\".concat(Math.round(r/count),\", \").concat(Math.round(g/count),\", \").concat(Math.round(b/count),\")\");setPotionColor(newColor);},[selectedIngredients]);// –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–≥—Ä–µ–≤–∞\nuseEffect(()=>{if(!isHeating)return;const heatInterval=setInterval(()=>{setTemperature(prev=>{const newTemp=Math.min(150,prev+2);temperatureRef.current=newTemp;// –°–æ–∑–¥–∞–µ–º –ø—É–∑—ã—Ä—å–∫–∏ –ø—Ä–∏ –Ω–∞–≥—Ä–µ–≤–µ\nif(newTemp>60&&Math.random()<0.3){createBubble();}return newTemp;});},100);return()=>clearInterval(heatInterval);},[isHeating]);const hexToRgb=hex=>{const result=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:{r:60,g:47,b:79};};const createBubble=()=>{const bubble={id:Date.now()+Math.random(),x:40+Math.random()*20,y:80,size:3+Math.random()*5,speed:0.5+Math.random()*1};setBubbles(prev=>[...prev.slice(-8),bubble]);// –£–¥–∞–ª—è–µ–º –ø—É–∑—ã—Ä–µ–∫ —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è\nsetTimeout(()=>{setBubbles(prev=>prev.filter(b=>b.id!==bubble.id));},2000);};const addIngredient=ingredient=>{if(selectedIngredients.length>=4){setHint('–ú–∞–∫—Å–∏–º—É–º 4 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞!');return;}setSelectedIngredients(prev=>[...prev,_objectSpread(_objectSpread({},ingredient),{},{id:ingredient.id+'_'+Date.now()})]);setHint(\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D \".concat(ingredient.name));// –°–æ–∑–¥–∞—ë–º —á–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏\nsetTimeout(()=>{if(window.alchemyFlask&&window.alchemyFlask.createParticles){window.alchemyFlask.createParticles(ingredient.color);}},100);// –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è\nif(cauldronRef.current){anime({targets:cauldronRef.current,scale:[1,1.05,1],duration:300,easing:'easeOutQuad'});}};const startHeating=()=>{if(selectedIngredients.length===0){setHint('–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã!');return;}setBrewingStage('heating');setIsHeating(true);setHint('–ù–∞–≥—Ä–µ–≤–∞–µ–º –∑–µ–ª—å–µ...');// –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–º–µ–Ω–∏\nif(flameRef.current){anime({targets:flameRef.current,opacity:[0,1],scale:[0.8,1.2],duration:500,easing:'easeOutQuad'});}};const stopHeating=()=>{setIsHeating(false);setBrewingStage('mixing');setHint('–†–∞–∑–º–µ—à–∞–π—Ç–µ –∑–µ–ª—å–µ!');if(flameRef.current){anime({targets:flameRef.current,opacity:[1,0],scale:[1.2,0.8],duration:500,easing:'easeOutQuad'});}};const mixPotion=()=>{var _selectedIngredients$;setBrewingStage('complete');setHint('–ó–µ–ª—å–µ –≥–æ—Ç–æ–≤–æ!');// –ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—à–∏–≤–∞–Ω–∏—è\nif(liquidRef.current){anime({targets:liquidRef.current,rotate:[0,360],scale:[1,1.1,1],duration:1000,easing:'easeInOutQuad'});}// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –∑–µ–ª—å—è\nconst optimalTemp=selectedIngredients.reduce((sum,ing)=>{const ingredient=ingredients.find(i=>i.id.startsWith(ing.id.split('_')[0]));return sum+((ingredient===null||ingredient===void 0?void 0:ingredient.temp)||60);},0)/selectedIngredients.length;const tempDiff=Math.abs(temperature-optimalTemp);const quality=Math.max(0.5,1-tempDiff/100);const reward=energyReward*quality*selectedIngredients.length;// –°–æ–∑–¥–∞—ë–º –∑–µ–ª—å–µ –¥–ª—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è\nconst potion={id:Date.now(),name:\"\\u0417\\u0435\\u043B\\u044C\\u0435 \".concat(selectedIngredients.map(i=>i.name.split(' ')[0]).join('-')),color:potionColor,quality:Math.round(quality*100),ingredients:selectedIngredients.map(i=>i.name),effect:((_selectedIngredients$=selectedIngredients[0])===null||_selectedIngredients$===void 0?void 0:_selectedIngredients$.effect)||'unknown'};setTimeout(()=>{if(onBrew)onBrew(reward);if(onAddPotion)onAddPotion(potion);},1000);};const resetLab=()=>{setSelectedIngredients([]);setTemperature(20);setIsHeating(false);setBrewingStage('selecting');setPotionColor('#3C2F4F');setBubbles([]);setHint('–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∑–µ–ª—å—è');};return/*#__PURE__*/_jsx(\"div\",{className:\"fullscreen-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fullscreen-alchemy\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mini-header\",children:[/*#__PURE__*/_jsx(GenerativeIcon,{name:\"potion\",size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0410\\u043B\\u0445\\u0438\\u043C\\u0438\\u0447\\u0435\\u0441\\u043A\\u0430\\u044F \\u043B\\u0430\\u0431\\u043E\\u0440\\u0430\\u0442\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alchemy-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ingredients-panel\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83E\\uDDEA \\u0418\\u043D\\u0433\\u0440\\u0435\\u0434\\u0438\\u0435\\u043D\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ingredients-grid\",children:ingredients.map(ingredient=>/*#__PURE__*/_jsxs(\"button\",{className:\"ingredient-bottle enhanced\",onClick:()=>addIngredient(ingredient),disabled:brewingStage!=='selecting',style:{'--ingredient-color':ingredient.color},children:[/*#__PURE__*/_jsx(\"div\",{className:\"bottle-liquid\",style:{backgroundColor:ingredient.color}}),/*#__PURE__*/_jsx(\"div\",{className:\"bottle-label\",children:ingredient.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottle-temp\",children:[ingredient.temp,\"\\xB0C\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottle-glow\"})]},ingredient.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"selected-ingredients-list\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u0412 \\u043A\\u043E\\u043B\\u0431\\u0435:\"}),selectedIngredients.map((ing,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"ingredient-chip\",style:{background:ing.color},children:ing.name},i))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flask-area\",children:[/*#__PURE__*/_jsx(AlchemyFlask,{liquidColor:potionColor,temperature:temperature,isHeating:isHeating,liquidLevel:selectedIngredients.length>0?0.5+selectedIngredients.length*0.1:0.3,bubbleIntensity:isHeating?Math.min(1,(temperature-60)/100):0}),/*#__PURE__*/_jsx(\"div\",{className:\"flame-base\",ref:flameRef,style:{opacity:isHeating?1:0},children:\"\\uD83D\\uDD25\\uD83D\\uDD25\\uD83D\\uDD25\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-panel\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u2697\\uFE0F \\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"brewing-stage-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stage \".concat(brewingStage==='selecting'?'active':''),children:\"1. \\u0412\\u044B\\u0431\\u043E\\u0440 \\u0438\\u043D\\u0433\\u0440\\u0435\\u0434\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stage \".concat(brewingStage==='heating'?'active':''),children:\"2. \\u041D\\u0430\\u0433\\u0440\\u0435\\u0432\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stage \".concat(brewingStage==='mixing'?'active':''),children:\"3. \\u0421\\u043C\\u0435\\u0448\\u0438\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stage \".concat(brewingStage==='complete'?'active':''),children:\"4. \\u0413\\u043E\\u0442\\u043E\\u0432\\u043E!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"brewing-controls\",children:[brewingStage==='selecting'&&selectedIngredients.length>0&&/*#__PURE__*/_jsx(\"button\",{className:\"brew-btn primary\",onClick:startHeating,children:\"\\uD83D\\uDD25 \\u041D\\u0430\\u0447\\u0430\\u0442\\u044C \\u0432\\u0430\\u0440\\u043A\\u0443\"}),brewingStage==='heating'&&/*#__PURE__*/_jsxs(\"div\",{className:\"heating-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"brew-btn\",onClick:stopHeating,children:\"\\u2744\\uFE0F \\u041E\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u043D\\u0430\\u0433\\u0440\\u0435\\u0432\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"temp-info\",children:[\"\\u0422\\u0435\\u043C\\u043F\\u0435\\u0440\\u0430\\u0442\\u0443\\u0440\\u0430: \",Math.round(temperature),\"\\xB0C\",/*#__PURE__*/_jsxs(\"div\",{className:\"optimal-temp\",children:[\"\\u041E\\u043F\\u0442\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E: \",selectedIngredients.length>0?Math.round(selectedIngredients.reduce((sum,ing)=>sum+ing.temp,0)/selectedIngredients.length):0,\"\\xB0C\"]})]})]}),brewingStage==='mixing'&&/*#__PURE__*/_jsx(\"button\",{className:\"brew-btn primary\",onClick:mixPotion,children:\"\\uD83E\\uDD44 \\u0420\\u0430\\u0437\\u043C\\u0435\\u0448\\u0430\\u0442\\u044C \\u0437\\u0435\\u043B\\u044C\\u0435\"}),brewingStage==='complete'&&/*#__PURE__*/_jsx(\"button\",{className:\"brew-btn\",onClick:resetLab,children:\"\\u2728 \\u041D\\u043E\\u0432\\u043E\\u0435 \\u0437\\u0435\\u043B\\u044C\\u0435\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alchemy-hint\",children:hint})]})]})]})});};export default/*#__PURE__*/React.memo(AlchemyLab);","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","anime","GenerativeIcon","AlchemyFlask","jsx","_jsx","jsxs","_jsxs","ingredients","id","name","color","temp","effect","AlchemyLab","_ref","onClose","onBrew","onAddPotion","energyReward","selectedIngredients","setSelectedIngredients","temperature","setTemperature","isHeating","setIsHeating","brewingStage","setBrewingStage","potionColor","setPotionColor","bubbles","setBubbles","hint","setHint","cauldronRef","flameRef","liquidRef","temperatureRef","length","r","g","b","forEach","ing","_ingredients$find","find","i","rgb","hexToRgb","count","newColor","concat","Math","round","heatInterval","setInterval","prev","newTemp","min","current","random","createBubble","clearInterval","hex","result","exec","parseInt","bubble","Date","now","x","y","size","speed","slice","setTimeout","filter","addIngredient","ingredient","_objectSpread","window","alchemyFlask","createParticles","targets","scale","duration","easing","startHeating","opacity","stopHeating","mixPotion","_selectedIngredients$","rotate","optimalTemp","reduce","sum","startsWith","split","tempDiff","abs","quality","max","reward","potion","map","join","resetLab","className","children","onClick","disabled","style","backgroundColor","background","liquidColor","liquidLevel","bubbleIntensity","ref","memo"],"sources":["/var/www/www-root/data/www/knigavl.ru/src/screens/mini/AlchemyLab.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport anime from 'animejs/lib/anime.js';\r\nimport GenerativeIcon from '../../components/GenerativeIcon';\r\nimport AlchemyFlask from '../../components/AlchemyFlask';\r\nimport './mini.css';\r\n\r\n// –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∞–ª—Ö–∏–º–∏—á–µ—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è\r\nconst ingredients = [\r\n  { id: 'moonherb', name: '–õ—É–Ω–Ω–∞—è —Ç—Ä–∞–≤–∞', color: '#A8C7FA', temp: 60, effect: 'healing' },\r\n  { id: 'fireflower', name: '–û–≥–Ω–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç–æ–∫', color: '#FF6B6B', temp: 120, effect: 'energy' },\r\n  { id: 'crystaldust', name: '–ö—Ä–∏—Å—Ç–∞–ª—å–Ω–∞—è –ø—ã–ª—å', color: '#4ECDC4', temp: 40, effect: 'magic' },\r\n  { id: 'shadowmoss', name: '–¢–µ–Ω–µ–≤–æ–π –º–æ—Ö', color: '#9B59B6', temp: 80, effect: 'stealth' },\r\n  { id: 'goldensap', name: '–ó–æ–ª–æ—Ç–∞—è —Å–º–æ–ª–∞', color: '#F1C40F', temp: 100, effect: 'luck' }\r\n];\r\n\r\nconst AlchemyLab = ({ onClose, onBrew, onAddPotion, energyReward = 0.08 }) => {\r\n  const [selectedIngredients, setSelectedIngredients] = useState([]);\r\n  const [temperature, setTemperature] = useState(20);\r\n  const [isHeating, setIsHeating] = useState(false);\r\n  const [brewingStage, setBrewingStage] = useState('selecting'); // selecting, heating, mixing, complete\r\n  const [potionColor, setPotionColor] = useState('#3C2F4F');\r\n  const [bubbles, setBubbles] = useState([]);\r\n  const [hint, setHint] = useState('–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∑–µ–ª—å—è');\r\n  \r\n  const cauldronRef = useRef(null);\r\n  const flameRef = useRef(null);\r\n  const liquidRef = useRef(null);\r\n  const temperatureRef = useRef(20);\r\n\r\n  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∑–µ–ª—å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤\r\n  useEffect(() => {\r\n    if (selectedIngredients.length === 0) {\r\n      setPotionColor('#3C2F4F');\r\n      return;\r\n    }\r\n    \r\n    // –°–º–µ—à–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤\r\n    let r = 0, g = 0, b = 0;\r\n    selectedIngredients.forEach(ing => {\r\n      const color = ingredients.find(i => i.id === ing.id)?.color || '#3C2F4F';\r\n      const rgb = hexToRgb(color);\r\n      r += rgb.r;\r\n      g += rgb.g;\r\n      b += rgb.b;\r\n    });\r\n    \r\n    const count = selectedIngredients.length;\r\n    const newColor = `rgb(${Math.round(r/count)}, ${Math.round(g/count)}, ${Math.round(b/count)})`;\r\n    setPotionColor(newColor);\r\n  }, [selectedIngredients]);\r\n\r\n  // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–≥—Ä–µ–≤–∞\r\n  useEffect(() => {\r\n    if (!isHeating) return;\r\n    \r\n    const heatInterval = setInterval(() => {\r\n      setTemperature(prev => {\r\n        const newTemp = Math.min(150, prev + 2);\r\n        temperatureRef.current = newTemp;\r\n        \r\n        // –°–æ–∑–¥–∞–µ–º –ø—É–∑—ã—Ä—å–∫–∏ –ø—Ä–∏ –Ω–∞–≥—Ä–µ–≤–µ\r\n        if (newTemp > 60 && Math.random() < 0.3) {\r\n          createBubble();\r\n        }\r\n        \r\n        return newTemp;\r\n      });\r\n    }, 100);\r\n\r\n    return () => clearInterval(heatInterval);\r\n  }, [isHeating]);\r\n\r\n  const hexToRgb = (hex) => {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n      r: parseInt(result[1], 16),\r\n      g: parseInt(result[2], 16),\r\n      b: parseInt(result[3], 16)\r\n    } : { r: 60, g: 47, b: 79 };\r\n  };\r\n\r\n  const createBubble = () => {\r\n    const bubble = {\r\n      id: Date.now() + Math.random(),\r\n      x: 40 + Math.random() * 20,\r\n      y: 80,\r\n      size: 3 + Math.random() * 5,\r\n      speed: 0.5 + Math.random() * 1\r\n    };\r\n    \r\n    setBubbles(prev => [...prev.slice(-8), bubble]);\r\n    \r\n    // –£–¥–∞–ª—è–µ–º –ø—É–∑—ã—Ä–µ–∫ —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è\r\n    setTimeout(() => {\r\n      setBubbles(prev => prev.filter(b => b.id !== bubble.id));\r\n    }, 2000);\r\n  };\r\n\r\n  const addIngredient = (ingredient) => {\r\n    if (selectedIngredients.length >= 4) {\r\n      setHint('–ú–∞–∫—Å–∏–º—É–º 4 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞!');\r\n      return;\r\n    }\r\n    \r\n    setSelectedIngredients(prev => [...prev, { ...ingredient, id: ingredient.id + '_' + Date.now() }]);\r\n    setHint(`–î–æ–±–∞–≤–ª–µ–Ω ${ingredient.name}`);\r\n    \r\n    // –°–æ–∑–¥–∞—ë–º —á–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏\r\n    setTimeout(() => {\r\n      if (window.alchemyFlask && window.alchemyFlask.createParticles) {\r\n        window.alchemyFlask.createParticles(ingredient.color);\r\n      }\r\n    }, 100);\r\n    \r\n    // –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è\r\n    if (cauldronRef.current) {\r\n      anime({\r\n        targets: cauldronRef.current,\r\n        scale: [1, 1.05, 1],\r\n        duration: 300,\r\n        easing: 'easeOutQuad'\r\n      });\r\n    }\r\n  };\r\n\r\n  const startHeating = () => {\r\n    if (selectedIngredients.length === 0) {\r\n      setHint('–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã!');\r\n      return;\r\n    }\r\n    \r\n    setBrewingStage('heating');\r\n    setIsHeating(true);\r\n    setHint('–ù–∞–≥—Ä–µ–≤–∞–µ–º –∑–µ–ª—å–µ...');\r\n    \r\n    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–º–µ–Ω–∏\r\n    if (flameRef.current) {\r\n      anime({\r\n        targets: flameRef.current,\r\n        opacity: [0, 1],\r\n        scale: [0.8, 1.2],\r\n        duration: 500,\r\n        easing: 'easeOutQuad'\r\n      });\r\n    }\r\n  };\r\n\r\n  const stopHeating = () => {\r\n    setIsHeating(false);\r\n    setBrewingStage('mixing');\r\n    setHint('–†–∞–∑–º–µ—à–∞–π—Ç–µ –∑–µ–ª—å–µ!');\r\n    \r\n    if (flameRef.current) {\r\n      anime({\r\n        targets: flameRef.current,\r\n        opacity: [1, 0],\r\n        scale: [1.2, 0.8],\r\n        duration: 500,\r\n        easing: 'easeOutQuad'\r\n      });\r\n    }\r\n  };\r\n\r\n  const mixPotion = () => {\r\n    setBrewingStage('complete');\r\n    setHint('–ó–µ–ª—å–µ –≥–æ—Ç–æ–≤–æ!');\r\n    \r\n    // –ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—à–∏–≤–∞–Ω–∏—è\r\n    if (liquidRef.current) {\r\n      anime({\r\n        targets: liquidRef.current,\r\n        rotate: [0, 360],\r\n        scale: [1, 1.1, 1],\r\n        duration: 1000,\r\n        easing: 'easeInOutQuad'\r\n      });\r\n    }\r\n    \r\n    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –∑–µ–ª—å—è\r\n    const optimalTemp = selectedIngredients.reduce((sum, ing) => {\r\n      const ingredient = ingredients.find(i => i.id.startsWith(ing.id.split('_')[0]));\r\n      return sum + (ingredient?.temp || 60);\r\n    }, 0) / selectedIngredients.length;\r\n    \r\n    const tempDiff = Math.abs(temperature - optimalTemp);\r\n    const quality = Math.max(0.5, 1 - tempDiff / 100);\r\n    const reward = energyReward * quality * selectedIngredients.length;\r\n    \r\n    // –°–æ–∑–¥–∞—ë–º –∑–µ–ª—å–µ –¥–ª—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è\r\n    const potion = {\r\n      id: Date.now(),\r\n      name: `–ó–µ–ª—å–µ ${selectedIngredients.map(i => i.name.split(' ')[0]).join('-')}`,\r\n      color: potionColor,\r\n      quality: Math.round(quality * 100),\r\n      ingredients: selectedIngredients.map(i => i.name),\r\n      effect: selectedIngredients[0]?.effect || 'unknown'\r\n    };\r\n    \r\n    setTimeout(() => {\r\n      if (onBrew) onBrew(reward);\r\n      if (onAddPotion) onAddPotion(potion);\r\n    }, 1000);\r\n  };\r\n\r\n  const resetLab = () => {\r\n    setSelectedIngredients([]);\r\n    setTemperature(20);\r\n    setIsHeating(false);\r\n    setBrewingStage('selecting');\r\n    setPotionColor('#3C2F4F');\r\n    setBubbles([]);\r\n    setHint('–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∑–µ–ª—å—è');\r\n  };\r\n\r\n  return (\r\n    <div className=\"fullscreen-overlay\">\r\n      <div className=\"fullscreen-alchemy\">\r\n        <div className=\"mini-header\">\r\n          <GenerativeIcon name=\"potion\" size={20} />\r\n          <span>–ê–ª—Ö–∏–º–∏—á–µ—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è</span>\r\n          <button className=\"close-btn\" onClick={onClose}>√ó</button>\r\n        </div>\r\n        \r\n        <div className=\"alchemy-body\">\r\n          {/* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã */}\r\n          <div className=\"ingredients-panel\">\r\n            <h4>üß™ –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</h4>\r\n            <div className=\"ingredients-grid\">\r\n              {ingredients.map(ingredient => (\r\n                <button \r\n                  key={ingredient.id} \r\n                  className=\"ingredient-bottle enhanced\"\r\n                  onClick={() => addIngredient(ingredient)}\r\n                  disabled={brewingStage !== 'selecting'}\r\n                  style={{ '--ingredient-color': ingredient.color }}\r\n                >\r\n                  <div \r\n                    className=\"bottle-liquid\" \r\n                    style={{ backgroundColor: ingredient.color }}\r\n                  />\r\n                  <div className=\"bottle-label\">{ingredient.name}</div>\r\n                  <div className=\"bottle-temp\">{ingredient.temp}¬∞C</div>\r\n                  <div className=\"bottle-glow\" />\r\n                </button>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"selected-ingredients-list\">\r\n              <h5>–í –∫–æ–ª–±–µ:</h5>\r\n              {selectedIngredients.map((ing, i) => (\r\n                <div key={i} className=\"ingredient-chip\" style={{ background: ing.color }}>\r\n                  {ing.name}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* –¶–µ–Ω—Ç—Ä - –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–ª–±–∞ */}\r\n          <div className=\"flask-area\">\r\n            <AlchemyFlask \r\n              liquidColor={potionColor}\r\n              temperature={temperature}\r\n              isHeating={isHeating}\r\n              liquidLevel={selectedIngredients.length > 0 ? 0.5 + (selectedIngredients.length * 0.1) : 0.3}\r\n              bubbleIntensity={isHeating ? Math.min(1, (temperature - 60) / 100) : 0}\r\n            />\r\n            \r\n            {/* –ü–ª–∞–º—è –ø–æ–¥ –∫–æ–ª–±–æ–π */}\r\n            <div className=\"flame-base\" ref={flameRef} style={{ opacity: isHeating ? 1 : 0 }}>\r\n              üî•üî•üî•\r\n            </div>\r\n          </div>\r\n\r\n          {/* –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */}\r\n          <div className=\"control-panel\">\r\n            <h4>‚öóÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h4>\r\n            \r\n            {/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞–¥–∏–∏ */}\r\n            <div className=\"brewing-stage-indicator\">\r\n              <div className={`stage ${brewingStage === 'selecting' ? 'active' : ''}`}>\r\n                1. –í—ã–±–æ—Ä –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤\r\n              </div>\r\n              <div className={`stage ${brewingStage === 'heating' ? 'active' : ''}`}>\r\n                2. –ù–∞–≥—Ä–µ–≤\r\n              </div>\r\n              <div className={`stage ${brewingStage === 'mixing' ? 'active' : ''}`}>\r\n                3. –°–º–µ—à–∏–≤–∞–Ω–∏–µ\r\n              </div>\r\n              <div className={`stage ${brewingStage === 'complete' ? 'active' : ''}`}>\r\n                4. –ì–æ—Ç–æ–≤–æ!\r\n              </div>\r\n            </div>\r\n            \r\n            {/* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */}\r\n            <div className=\"brewing-controls\">\r\n              {brewingStage === 'selecting' && selectedIngredients.length > 0 && (\r\n                <button className=\"brew-btn primary\" onClick={startHeating}>\r\n                  üî• –ù–∞—á–∞—Ç—å –≤–∞—Ä–∫—É\r\n                </button>\r\n              )}\r\n              \r\n              {brewingStage === 'heating' && (\r\n                <div className=\"heating-controls\">\r\n                  <button className=\"brew-btn\" onClick={stopHeating}>\r\n                    ‚ùÑÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–≥—Ä–µ–≤\r\n                  </button>\r\n                  <div className=\"temp-info\">\r\n                    –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {Math.round(temperature)}¬∞C\r\n                    <div className=\"optimal-temp\">\r\n                      –û–ø—Ç–∏–º–∞–ª—å–Ω–æ: {selectedIngredients.length > 0 ? \r\n                        Math.round(selectedIngredients.reduce((sum, ing) => sum + ing.temp, 0) / selectedIngredients.length) : 0}¬∞C\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {brewingStage === 'mixing' && (\r\n                <button className=\"brew-btn primary\" onClick={mixPotion}>\r\n                  ü•Ñ –†–∞–∑–º–µ—à–∞—Ç—å –∑–µ–ª—å–µ\r\n                </button>\r\n              )}\r\n              \r\n              {brewingStage === 'complete' && (\r\n                <button className=\"brew-btn\" onClick={resetLab}>\r\n                  ‚ú® –ù–æ–≤–æ–µ –∑–µ–ª—å–µ\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"alchemy-hint\">{hint}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(AlchemyLab);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}