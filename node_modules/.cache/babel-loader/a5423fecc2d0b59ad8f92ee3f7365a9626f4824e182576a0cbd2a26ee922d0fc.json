{"ast":null,"code":"import _taggedTemplateLiteral from \"/var/www/www-root/data/www/knigavl.ru/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject0, _templateObject1, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16;\nimport { clamp, is_empty, make_tag_function, round } from '../utils/index.js';\nimport parse_shape_commands from '../parser/parse-shape-commands.js';\nimport parse_value_group from '../parser/parse-value-group.js';\nimport parse_direction from '../parser/parse-direction.js';\nimport parse_compound_value from '../parser/parse-compound-value.js';\nimport calc from '../calc.js';\nconst {\n  cos,\n  sin,\n  abs,\n  atan2,\n  PI\n} = Math;\nconst _ = make_tag_function(c => {\n  return create_shape_points(parse_shape_commands(c), {\n    min: 3,\n    max: 3600\n  });\n});\nconst shapes = {\n  circle: () => _(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    split: 180;\\n    scale: .99\\n  \"]))),\n  triangle: () => _(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    rotate: 30;\\n    scale: 1.1;\\n    move: 0 .2\\n  \"]))),\n  pentagon: () => _(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    split: 5;\\n    rotate: 54\\n  \"]))),\n  hexagon: () => _(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n    split: 6;\\n    rotate: 30;\\n    scale: .98\\n  \"]))),\n  octagon: () => _(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n    split: 8;\\n    rotat: 22.5;\\n    scale: .99\\n  \"]))),\n  star: () => _(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n    split: 10;\\n    r: cos(5t);\\n    rotate: -18;\\n    scale: .99\\n  \"]))),\n  infinity: () => _(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n    split: 180;\\n    scale: .99;\\n    x: cos(t)*.99 / (sin(t)^2 + 1);\\n    y: x * sin(t)\\n  \"]))),\n  heart: () => _(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n    split: 180;\\n    rotate: 180;\\n    a: cos(t)*13/18 - cos(2t)*5/18;\\n    b: cos(3t)/18 + cos(4t)/18;\\n    x: (.75 * sin(t)^3) * 1.2;\\n    y: (a - b + .2) * -1.1\\n  \"]))),\n  bean: () => _(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n    split: 180;\\n    r: sin(t)^3 + cos(t)^3;\\n    move: -.35 .35;\\n  \"]))),\n  bicorn: () => _(_templateObject0 || (_templateObject0 = _taggedTemplateLiteral([\"\\n    split: 180;\\n    x: cos(t);\\n    y: sin(t)^2 / (2 + sin(t)) - .5\\n  \"]))),\n  drop: () => _(_templateObject1 || (_templateObject1 = _taggedTemplateLiteral([\"\\n    split: 180;\\n    rotate: 90;\\n    scale: .95;\\n    x: sin(t);\\n    y: (1 + sin(t)) * cos(t) / 1.6\\n  \"]))),\n  fish: () => _(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n    split: 240;\\n    x: cos(t) - sin(t)^2 / sqrt(2) - .04;\\n    y: sin(2t)/2\\n  \"]))),\n  whale: () => _(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n    split: 240;\\n    rotate: 180;\\n    R: 3.4 * (sin(t)^2 - .5) * cos(t);\\n    x: cos(t) * R + .75;\\n    y: sin(t) * R * 1.2\\n  \"]))),\n  windmill: () => _(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n    split: 18;\\n    R: seq(.618, 1, 0);\\n    T: seq(t-.55, t, t);\\n    x: R * cos(T);\\n    y: R * sin(T)\\n  \"]))),\n  vase: () => _(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n    split: 240;\\n    scale: .3;\\n    x: sin(4t) + sin(t) * 1.4;\\n    y: cos(t) + cos(t) * 4.8 + .3\\n  \"]))),\n  clover: function () {\n    let k = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n    k = clamp(k, 3, 5);\n    if (k == 4) k = 2;\n    return _(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"\\n      split: 240;\\n      r: cos(\", \"t);\\n      scale: .98\\n    \"])), k);\n  },\n  hypocycloid: function () {\n    let k = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n    k = clamp(k, 3, 5);\n    let scale = [0, 0, 0, .34, .25, .19][k];\n    return _(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\n      split: 240;\\n      scale: \", \";\\n      k: \", \";\\n      x: (k-1)*cos(t) + cos((k-1)*t);\\n      y: (k-1)*sin(t) - sin((k-1)*t)\\n    \"])), scale, k);\n  },\n  bud: function () {\n    let k = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n    k = clamp(k, 3, 10);\n    return _(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\\n      split: 240;\\n      scale: .8;\\n      r: 1 + .2 * cos(\", \"t)\\n    \"])), k);\n  }\n};\nclass Point {\n  constructor(x, y, angle) {\n    this.x = x;\n    this.y = y;\n    this.extra = angle;\n  }\n  valueOf() {\n    return this.x + ' ' + this.y;\n  }\n  toString() {\n    return this.valueOf();\n  }\n}\nfunction create_polygon_points(option, fn) {\n  if (typeof arguments[0] == 'function') {\n    fn = option;\n    option = {};\n  }\n  if (!fn) {\n    fn = t => [cos(t), sin(t)];\n  }\n  let split = option.split || 180;\n  let turn = option.turn || 1;\n  let frame = option.frame;\n  let fill = option['fill'] || option['fill-rule'];\n  let direction = parse_direction(option['direction'] || option['dir'] || '');\n  let unit = option.unit;\n  let rad = PI * 2 * turn / split;\n  let points = [];\n  let first_point, first_point2;\n  let factor = option.scale === undefined ? 1 : option.scale;\n  let add = _ref => {\n    let [x1, y1, dx = 0, dy = 0] = _ref;\n    if (x1 == 'evenodd' || x1 == 'nonzero') {\n      return points.push(new Point(x1, '', ''));\n    }\n    let [x, y] = scale(x1, -y1, factor);\n    let [dx1, dy2] = scale(dx, -dy, factor);\n    let angle = calc_angle(x, y, dx1, dy2, direction);\n    if (unit !== undefined && unit !== '%') {\n      if (unit !== 'none') {\n        x = round(x) + unit;\n        y = round(y) + unit;\n      }\n    } else {\n      x = round((x + 1) * 50) + '%';\n      y = round((y + 1) * 50) + '%';\n    }\n    points.push(new Point(x, y, angle));\n  };\n  if (fill == 'nonzero' || fill == 'evenodd') {\n    add([fill, '', '']);\n  }\n  for (let i = 0; i < split; ++i) {\n    let t = rad * i;\n    let point = fn(t, i);\n    if (!i) first_point = point;\n    add(point);\n  }\n  if (frame !== undefined) {\n    add(first_point);\n    let w = frame / 100;\n    if (turn > 1) w *= 2;\n    if (w == 0) w = .002;\n    for (let i = 0; i < split; ++i) {\n      let t = -rad * i;\n      let [x, y, dx = 0, dy = 0] = fn(t, i);\n      let theta = atan2(y + dy, x - dx);\n      let point = [x - w * cos(theta), y - w * sin(theta)];\n      if (!i) first_point2 = point;\n      add(point);\n    }\n    add(first_point2);\n    add(first_point);\n  }\n  return points;\n}\nfunction calc_angle(x, y, dx, dy, option) {\n  let base = atan2(y + dy, x - dx) * 180 / PI;\n  if (option.direction === 'reverse') {\n    base -= 180;\n  }\n  if (!option.direction) {\n    base = 90;\n  }\n  if (option.angle) {\n    base += option.angle;\n  }\n  return base;\n}\nfunction rotate(x, y, deg) {\n  let rad = -PI / 180 * deg;\n  return [x * cos(rad) - y * sin(rad), y * cos(rad) + x * sin(rad)];\n}\nfunction translate(x, y, offset) {\n  let [dx, dy = dx] = parse_value_group(offset).map(Number);\n  return [x + (dx || 0), y - (dy || 0), dx, dy];\n}\nfunction scale(x, y, factor) {\n  let [fx, fy = fx] = parse_value_group(factor).map(Number);\n  return [x * fx, y * fy];\n}\nfunction create_shape_points(props, _ref2) {\n  let {\n    min,\n    max\n  } = _ref2;\n  let split = clamp(parseInt(props.vertices || props.points || props.split) || 0, min, max);\n  let px = is_empty(props.x) ? 'cos(t)' : props.x;\n  let py = is_empty(props.y) ? 'sin(t)' : props.y;\n  let pr = is_empty(props.r) ? '' : props.r;\n  let pt = is_empty(props.t) ? '' : props.t;\n  let {\n    unit,\n    value\n  } = parse_compound_value(pr);\n  if (unit && !props[unit] && unit !== 't') {\n    if (is_empty(props.unit)) {\n      props.unit = unit;\n    }\n    pr = props.r = value;\n  }\n  if (props.degree) {\n    props.rotate = props.degree;\n  }\n  if (props.origin) {\n    props.move = props.origin;\n  }\n  let option = Object.assign({}, props, {\n    split\n  });\n  return create_polygon_points(option, (t, i) => {\n    let context = Object.assign({}, props, {\n      't': pt || t,\n      'θ': pt || t,\n      'i': i + 1,\n      seq() {\n        var _ref3;\n        if (!arguments.length) return '';\n        return _ref3 = i % arguments.length, _ref3 < 0 || arguments.length <= _ref3 ? undefined : arguments[_ref3];\n      },\n      range(a) {\n        let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        a = Number(a) || 0;\n        b = Number(b) || 0;\n        if (a > b) [a, b] = [b, a];\n        let step = abs(b - a) / (split - 1);\n        return a + step * i;\n      }\n    });\n    let x = calc(px, context);\n    let y = calc(py, context);\n    let dx = 0;\n    let dy = 0;\n    if (pr) {\n      let r = calc(pr, context);\n      if (r == 0) {\n        r = .00001;\n      }\n      if (pt) {\n        t = calc(pt, context);\n      }\n      x = r * cos(t);\n      y = r * sin(t);\n    }\n    if (props.rotate) {\n      [x, y] = rotate(x, y, Number(props.rotate) || 0);\n    }\n    if (props.move) {\n      [x, y, dx, dy] = translate(x, y, props.move);\n    }\n    return [round(x), round(y), round(dx), round(dy)];\n  });\n}\nexport { create_polygon_points, create_shape_points, shapes };","map":{"version":3,"names":["clamp","is_empty","make_tag_function","round","parse_shape_commands","parse_value_group","parse_direction","parse_compound_value","calc","cos","sin","abs","atan2","PI","Math","_","c","create_shape_points","min","max","shapes","circle","_templateObject","_taggedTemplateLiteral","triangle","_templateObject2","pentagon","_templateObject3","hexagon","_templateObject4","octagon","_templateObject5","star","_templateObject6","infinity","_templateObject7","heart","_templateObject8","bean","_templateObject9","bicorn","_templateObject0","drop","_templateObject1","fish","_templateObject10","whale","_templateObject11","windmill","_templateObject12","vase","_templateObject13","clover","k","arguments","length","undefined","_templateObject14","hypocycloid","scale","_templateObject15","bud","_templateObject16","Point","constructor","x","y","angle","extra","valueOf","toString","create_polygon_points","option","fn","t","split","turn","frame","fill","direction","unit","rad","points","first_point","first_point2","factor","add","_ref","x1","y1","dx","dy","push","dx1","dy2","calc_angle","i","point","w","theta","base","rotate","deg","translate","offset","map","Number","fx","fy","props","_ref2","parseInt","vertices","px","py","pr","r","pt","value","degree","origin","move","Object","assign","context","seq","_ref3","range","a","b","step"],"sources":["/var/www/www-root/data/www/knigavl.ru/node_modules/css-doodle/src/generator/shapes.js"],"sourcesContent":["import { clamp, is_empty, make_tag_function, round } from '../utils/index.js';\nimport parse_shape_commands from '../parser/parse-shape-commands.js';\nimport parse_value_group from '../parser/parse-value-group.js';\nimport parse_direction from '../parser/parse-direction.js';\nimport parse_compound_value from '../parser/parse-compound-value.js';\nimport calc from '../calc.js';\n\nconst { cos, sin, abs, atan2, PI } = Math;\n\nconst _ = make_tag_function(c => {\n  return create_shape_points(\n    parse_shape_commands(c), {min: 3, max: 3600}\n  );\n});\n\nconst shapes = {\n  circle: () => _`\n    split: 180;\n    scale: .99\n  `,\n\n  triangle: () => _`\n    rotate: 30;\n    scale: 1.1;\n    move: 0 .2\n  `,\n\n  pentagon: () => _`\n    split: 5;\n    rotate: 54\n  `,\n\n  hexagon: () => _`\n    split: 6;\n    rotate: 30;\n    scale: .98\n  `,\n\n  octagon: () => _`\n    split: 8;\n    rotat: 22.5;\n    scale: .99\n  `,\n\n  star: () => _`\n    split: 10;\n    r: cos(5t);\n    rotate: -18;\n    scale: .99\n  `,\n\n  infinity: () => _`\n    split: 180;\n    scale: .99;\n    x: cos(t)*.99 / (sin(t)^2 + 1);\n    y: x * sin(t)\n  `,\n\n  heart: () => _`\n    split: 180;\n    rotate: 180;\n    a: cos(t)*13/18 - cos(2t)*5/18;\n    b: cos(3t)/18 + cos(4t)/18;\n    x: (.75 * sin(t)^3) * 1.2;\n    y: (a - b + .2) * -1.1\n  `,\n\n  bean: () => _`\n    split: 180;\n    r: sin(t)^3 + cos(t)^3;\n    move: -.35 .35;\n  `,\n\n  bicorn: () => _`\n    split: 180;\n    x: cos(t);\n    y: sin(t)^2 / (2 + sin(t)) - .5\n  `,\n\n  drop: () => _`\n    split: 180;\n    rotate: 90;\n    scale: .95;\n    x: sin(t);\n    y: (1 + sin(t)) * cos(t) / 1.6\n  `,\n\n  fish: () => _`\n    split: 240;\n    x: cos(t) - sin(t)^2 / sqrt(2) - .04;\n    y: sin(2t)/2\n  `,\n\n  whale: () => _`\n    split: 240;\n    rotate: 180;\n    R: 3.4 * (sin(t)^2 - .5) * cos(t);\n    x: cos(t) * R + .75;\n    y: sin(t) * R * 1.2\n  `,\n\n  windmill:  () => _`\n    split: 18;\n    R: seq(.618, 1, 0);\n    T: seq(t-.55, t, t);\n    x: R * cos(T);\n    y: R * sin(T)\n  `,\n\n  vase: () => _`\n    split: 240;\n    scale: .3;\n    x: sin(4t) + sin(t) * 1.4;\n    y: cos(t) + cos(t) * 4.8 + .3\n  `,\n\n  clover: (k = 3) => {\n    k = clamp(k, 3, 5);\n    if (k == 4) k = 2;\n    return _`\n      split: 240;\n      r: cos(${k}t);\n      scale: .98\n    `;\n  },\n\n  hypocycloid: (k = 3) => {\n    k = clamp(k, 3, 5);\n    let scale = [0, 0, 0, .34, .25, .19][k];\n    return _`\n      split: 240;\n      scale: ${scale};\n      k: ${k};\n      x: (k-1)*cos(t) + cos((k-1)*t);\n      y: (k-1)*sin(t) - sin((k-1)*t)\n    `;\n  },\n\n  bud: (k = 3) => {\n    k = clamp(k, 3, 10);\n    return _`\n      split: 240;\n      scale: .8;\n      r: 1 + .2 * cos(${k}t)\n    `;\n  },\n};\n\nclass Point {\n  constructor(x, y, angle) {\n    this.x = x;\n    this.y = y;\n    this.extra = angle;\n  }\n  valueOf() {\n    return this.x + ' ' + this.y;\n  }\n  toString() {\n    return this.valueOf();\n  }\n}\n\nfunction create_polygon_points(option, fn) {\n  if (typeof arguments[0] == 'function') {\n    fn = option;\n    option = {};\n  }\n\n  if (!fn) {\n    fn = t => [ cos(t), sin(t) ];\n  }\n\n  let split = option.split || 180;\n  let turn = option.turn || 1;\n  let frame = option.frame;\n  let fill = option['fill'] || option['fill-rule'];\n  let direction = parse_direction(option['direction'] || option['dir'] || '');\n  let unit = option.unit;\n\n  let rad = (PI * 2) * turn / split;\n  let points = [];\n  let first_point, first_point2;\n\n  let factor = (option.scale === undefined) ? 1 : option.scale;\n  let add = ([x1, y1, dx = 0, dy = 0]) => {\n    if (x1 == 'evenodd' || x1 == 'nonzero') {\n      return points.push(new Point(x1, '', ''));\n    }\n    let [x, y] = scale(x1, -y1, factor);\n    let [dx1, dy2] = scale(dx, -dy, factor);\n    let angle = calc_angle(x, y, dx1, dy2, direction);\n    if (unit !== undefined && unit !== '%') {\n      if (unit !== 'none') {\n        x = round(x) + unit;\n        y = round(y) + unit;\n      }\n    } else {\n      x = round((x + 1) * 50) + '%';\n      y = round((y + 1) * 50) + '%';\n    }\n    points.push(new Point(x, y, angle));\n  }\n\n  if (fill == 'nonzero' || fill == 'evenodd') {\n    add([fill, '', '']);\n  }\n\n  for (let i = 0; i < split; ++i) {\n    let t = rad * i;\n    let point = fn(t, i);\n    if (!i) first_point = point;\n    add(point);\n  }\n\n  if (frame !== undefined) {\n    add(first_point);\n    let w = frame / 100;\n    if (turn > 1) w *= 2;\n    if (w == 0) w = .002;\n    for (let i = 0; i < split; ++i) {\n      let t = -rad * i;\n      let [x, y, dx = 0, dy = 0] = fn(t, i);\n      let theta = atan2(y + dy, x - dx);\n      let point = [\n        x - w * cos(theta),\n        y - w * sin(theta)\n      ];\n      if (!i) first_point2 = point;\n      add(point);\n    }\n    add(first_point2);\n    add(first_point);\n  }\n\n  return points;\n}\n\nfunction calc_angle(x, y, dx, dy, option) {\n  let base = atan2(y + dy, x - dx) * 180 / PI;\n  if (option.direction === 'reverse') {\n    base -= 180;\n  }\n  if (!option.direction) {\n    base = 90;\n  }\n  if (option.angle) {\n    base += option.angle;\n  }\n  return base;\n}\n\nfunction rotate(x, y, deg) {\n  let rad = -PI / 180 * deg;\n  return [\n    x * cos(rad) - y * sin(rad),\n    y * cos(rad) + x * sin(rad)\n  ];\n}\n\nfunction translate(x, y, offset) {\n  let [dx, dy = dx] = parse_value_group(offset).map(Number);\n  return [\n    x + (dx || 0),\n    y - (dy || 0),\n    dx,\n    dy\n  ];\n}\n\nfunction scale(x, y, factor) {\n  let [fx, fy = fx] = parse_value_group(factor).map(Number);\n  return [\n    x * fx,\n    y * fy\n  ];\n}\n\nfunction create_shape_points(props, {min, max}) {\n  let split = clamp(parseInt(props.vertices || props.points || props.split) || 0, min, max);\n  let px = is_empty(props.x) ? 'cos(t)' : props.x;\n  let py = is_empty(props.y) ? 'sin(t)' : props.y;\n  let pr = is_empty(props.r) ? ''       : props.r;\n  let pt = is_empty(props.t) ? ''       : props.t;\n\n  let { unit, value } = parse_compound_value(pr);\n  if (unit && !props[unit] && unit !== 't') {\n    if (is_empty(props.unit)) {\n      props.unit = unit;\n    }\n    pr = props.r = value;\n  }\n\n  if (props.degree) {\n    props.rotate = props.degree;\n  }\n\n  if (props.origin) {\n    props.move = props.origin;\n  }\n\n  let option = Object.assign({}, props, { split });\n\n  return create_polygon_points(option, (t, i) => {\n    let context = Object.assign({}, props, {\n      't': pt || t,\n      'θ': pt || t,\n      'i': (i + 1),\n      seq(...list) {\n        if (!list.length) return '';\n        return list[i % list.length];\n      },\n      range(a, b = 0) {\n        a = Number(a) || 0;\n        b = Number(b) || 0;\n        if (a > b) [a, b] = [b, a];\n        let step = abs(b - a) / (split - 1);\n        return a + step * i;\n      }\n    });\n    let x = calc(px, context);\n    let y = calc(py, context);\n    let dx = 0;\n    let dy = 0;\n    if (pr) {\n      let r = calc(pr, context);\n      if (r == 0) {\n        r = .00001;\n      }\n      if (pt) {\n        t = calc(pt, context);\n      }\n      x = r * cos(t);\n      y = r * sin(t);\n    }\n    if (props.rotate) {\n      [x, y] = rotate(x, y, Number(props.rotate) || 0);\n    }\n    if (props.move) {\n      [x, y, dx, dy] = translate(x, y, props.move);\n    }\n    return [round(x), round(y), round(dx), round(dy)];\n  });\n}\n\nexport {\n  create_polygon_points,\n  create_shape_points,\n  shapes,\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}